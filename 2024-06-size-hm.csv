status,issue,title,validator comment 1,validator comment 2,validator comment 3,root cause 1,root cause 2,root cause 3,merged root cause,primary finding,proposed root cause group,,,,,
Satisfactory,validation-284,"protocol blocks partial repayment, even though they improve borrowers health in certain conditions",,"allow partial repay for overdued loan, maybe by design",Inadequate remediation for underwater borrowers,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L51-L53,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L250,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L250,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L51-L53""",findings-107,"""DUPE-Compensate-005,DUPE-Size-003""",,,,,
Satisfactory,validation-113,Users can deposit USDC above the AToken cap,"QA, multicall",borrowATokenCap multicall,Insufficient proof alleging the flaw,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001""",DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-001,
Satisfactory,validation-145,The `borrowATokenCap` can be bypassed,"QA, multicall",borrowATokenCap multicall,Invalid validation entailed,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29-L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002""",DUPE-Compensate-002,DUPE-Compensate-003,,,
Satisfactory,validation-249,AToken cap can be violated/bypassed through multicall,total supply,borrowATokenCap multicall,Invalid validation entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-268,`CapsLibrary.sol#validateBorrowATokenIncreaseLteDebtTokenDecrease` uses wrong source of `borrowAToken` total supply rendering validation ineffective which allows anyone to bypass cap limit by deposit via `multicall`,"QA, multicall",borrowATokenCap multicall,Invalid validation entailed,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29-L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-280,borrowATokenCap can be bypassed through multicall(),"QA, multicall",borrowATokenCap multicall,Invalid validation entailed,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29-L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-309,Users Can Bypass `borrowATokenCap` Check Through `multicall` Due to Incorrect Validation,"QA, multicall",borrowATokenCap multicall,Invalid validation entailed,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29-L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-322,The `borrowAtoken` supply checks in `multicall()` are completely wrong,"QA, multicall",borrowATokenCap multicall,Invalid validation entailed,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29-L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-334,Borrow token supply cap can be bypassed using multicall,total supply,borrowATokenCap multicall,Invalid validation entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-367,Deposits of underlying borrow token via multicall can go above the cap,total supply,borrowATokenCap multicall,Intended design. Known Solidified issue 7. Infeasible in the context after all,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-37,The total supply of borrowAToken can go over the specified cap,total supply,borrowATokenCap multicall,Invalid validation entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-385,"The `validateBorrowATokenCap()` restriction in `deposit()` can be easily bypassed by wrapping it in a `multicall()` call, giving certain users an unfair advantage","QA, multicall",borrowATokenCap multicall,Invalid validation entailed,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29-L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-473,Incorrect logic to protect Size from large amount of loans,,borrowATokenCap multicall,Incorrect caps logic,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L52-L59,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L52-L59,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29""",findings-13,"""DUPE-CapsLibrary-002,DUPE-Multicall-001""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001,
Satisfactory,validation-512,"Inside Multicall, wrong parameters passed into state.validateBorrowATokenIncreaseLteDebtTokenDecrease allows for unintended behaviour where total supply of borrowAtokens exceed borrowATokenCap despite not being for the purpose of decreasing debt",total supply,borrowATokenCap multicall,Invalid validation entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-542,The `borrowATokenCap` limitation can be bypassed by depositing `USDC` through `Size#multicall()`,total supply,borrowATokenCap multicall,Invalid validation entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,
Satisfactory,validation-556,`borrowATokenCap` can be avoided by using the `Multicall` function,total supply,borrowATokenCap multicall,Invalid validation entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-574,borrowATokenCap can be exceeded without adding value to the protocol.,"QA, multicall",borrowATokenCap multicall,Invalid validation entailed,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29-L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002""",DUPE-BuyCreditMarket-002,DUPE-Size-004,,,
Satisfactory,validation-604,Anyone can bypass ```validateBorrowATokenCap``` check and deposit over the limit calling ```deposit()``` from multicall,"QA, multicall",borrowATokenCap multicall,Coded POC inadequate alleging the flaw,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001""",DUPE-CapsLibrary-002,DUPE-Multicall-001,,,
Satisfactory,validation-653,The `validateBorrowATokenIncreaseLteDebtTokenDecrease` is incorrect and can be easily bypassed,"QA, multicall",borrowATokenCap multicall,Invalid validation entailed,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L27,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",findings-13,"""DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002""",DUPE-Claim-001,DUPE-Size-005,,,
Satisfactory,validation-695,Multicall does not work as intended,total supply,multicall needs refactor,Intended design as it would be when not using the batch calling,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-701,Users Can Buypass Borrow Token Cap via Manipulation of Debt Token Supply,total supply,borrowATokenCap multicall,Invalid validation entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-87,Muticall deposits entirely bypass the borrowAToken cap,total supply,borrowATokenCap multicall,Invalid validation entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L29,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L37""",findings-13,"""DUPE-Multicall-001,DUPE-Multicall-002""",,,,,
Satisfactory,validation-152,Users can avoid paying fragmentation fees,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",DUPE-Compensate-002,DUPE-Compensate-003,,,
Satisfactory,validation-291,Fragmentation fee is not applied during compensate if minting new credit.,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-304,Fragmentation Fee Application Leads to Unfair Charges and Potential Fee Avoidance,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-002,DUPE-Compensate-003""",,,,,
Satisfactory,validation-318,fragmentationFee in compensate is not implemented correctly,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-320,Users could abuse `compensate()` to fragment creditPositions without paying any fragementation fee,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-340,Borrowers can fragmentate credit without paying the fragmentationFee when partially repaying a DebtPosition via Compensate,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-377,Protocol fails to take fragmentation fee during credit fractionalization for every compensate call with params.creditPositionToCompensateId == RESERVED_ID.,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-392,Fragmentation fee can be avoided during debt compensation,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-406,Users can skip the fragmentation fee through the `compensate()` action,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-456,Fragmentation Fee is not properly enforced on all credit splits during compensation,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-466,Fragmentation Fee not charged when a user incompletely compensate a credit position,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-485,"Partial repayment with debt/credit creation (compensation) will not charge fragmentation fee, allowing malicious actors to fragment a credit many times breaking invariant `FEES_01`",no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-555,Uncharged Fragmentation Fees on Credit Splits on `Compnsate()` function Lead to Financial Losses for the Protocol,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-588,"Borrowers who call `compensate()` with `RESERVED_ID` will never pay a fragmentation fee, despite being responsible for the fragmentation of credit",no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-605,When a user Wants to Partially repay he/she is Fragmenting a Credit Position but the current implementation allows a user to Bypassing Fragmentation Fee payment even though the user still doesn't repay any of the fragmented loans,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-002,DUPE-Compensate-003""",,,,,
Satisfactory,validation-622,"Users are able to split their debt position at no cost, allowing them to delay or even prevent liquidation",no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""",findings-24,"""DUPE-Compensate-002,DUPE-Compensate-002""",DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002,,
Satisfactory,validation-720,User can split a credit into multiple credits without paying fragmentation fee,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-002,DUPE-Compensate-002""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-95,Fragmentation fees aren't being paid in the context of partial repayment in `Size::compensate`,no frag fee,fragmentation fee RESERVED_ID,Missing check for creditPositionWithDebtToRepay.credit > 0,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136-L136""",findings-24,"""DUPE-Compensate-002,DUPE-Compensate-002""",,,,,
Satisfactory,validation-108,Users can not to buy/sell minimum credit allowed due to exactAmountIn condition,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,,
Satisfactory,validation-138,Wrong check when `buyCreditMarket` is been called with `param.exactAmountIn` equal to true.,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-003,DUPE-AccountingLibrary-004,,,
Satisfactory,validation-208,"Bad amount validation could lead to DoS, when `buyCreditMarket` called",,minimumCreditBorrowAToken,params.amount as cash not catered for,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",,,,,
Satisfactory,validation-214,"Bad amount validation could lead to DoS, when `sellCreditMarket` called",incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",,,,,
Satisfactory,validation-258,Legitimate call with small cash out can be reverted.,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",,,,,
Satisfactory,validation-342,"SellingCredit can incorrectly reverts because `params.amount` is incorrectly threated as if it would represent `credit`, when in reality could represent `cash` and the credit been sold would be grather than minimumCreditBorrowAToken",incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",,,,,
Satisfactory,validation-363,Incorrect Minimum credit Check in `validateBuyCreditMarket`,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",,,,,
Satisfactory,validation-403,Creation of valid loans will revert due to comparing a cash value with credit one,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",,,,,
Satisfactory,validation-416,incorrect check for cash against credit makes check redundant,,minimumCreditBorrowAToken,params.amount as cash not catered for,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-003,,,
Satisfactory,validation-450,Lender cannot do exactAmountIn in case of buyCreditMarketOrder and seller cannot do cashAmountOut  in case of sellCreditMarketOrder,,minimumCreditBorrowAToken,params.amount as cash not catered for,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-482,`validateSellCreditMarket` may revert incorrectly when `params.amount` is used as `cashAmountOut/In` value (`exactAmountIn == false`,"QA at most, fees",minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""",validation-108,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,
Satisfactory,validation-483,`validateBuyCreditMarket` may revert incorrectly when `params.amount` is used as `cashAmountIn` value (`exactAmountIn == true`),"QA at most, fees",minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""",validation-108,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-504,Valid market lending and borrowing can be denied as `exactAmountIn` value is ignored in controls,incorrect restriction,validation exactAmountIn,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L90-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L90-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006
Satisfactory,validation-521,Incorrect Handling of Cash Amount Validation in BuyCreditMarket Function,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-562,Incorrect Validation of `Amount` in `sellCreditMarket` and `buyCreditMarket` Functions Causes A Revert On Valid Inputs,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-599,Credit positions with cash less than ```minimumCreditBorrowAToken``` and credit more than ```minimumCreditBorrowAToken``` will not be created while they should,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",,,,,
Satisfactory,validation-726,Incorrect validation in `SellCreditMarket.sol` causes the function to fail unexpectedly and prevents from borrowing being performed,,minimumCreditBorrowAToken,params.amount as cash not catered for,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L119-L123,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L119-L123""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,DUPE-UpdateConfig-001""",DUPE-Compensate-005,DUPE-Size-003,,,
Satisfactory,validation-93,Some users will be required to borrow a higher amount of tokens than others,incorrect restriction,minimumCreditBorrowAToken,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95""",validation-108,"""DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",,,,,
Satisfactory,validation-123,Lack of validation for `cashAmountOut` in `SellCreditMarket` when `exactAmountIn == true` allows creating a loan without fee,"QA at most, fees",validation cashAmountOut,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L160-L167,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L160-L167,https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""",validation-123,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-BuyCreditMarket-002,DUPE-SellCreditMarket-002,
Satisfactory,validation-179,BuyCreditMarket: Missing Fee Deduction from Buyer Payment (exactAmountIn=true),"QA at most, fees",,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-123,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-BuyCreditMarket-002,DUPE-SellCreditMarket-002""",,,,,
Satisfactory,validation-125,Lack of validation for `cashAmountIn` in `BuyCreditMarket` when `exactAmountIn == false` allows creating a loan with only `1 AToken` fee,"QA at most, fees",validation cashAmountIn,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L92-L95,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L92-L95,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93""",validation-125,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003""",DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-BuyCreditMarket-002,DUPE-SellCreditMarket-002,
Satisfactory,validation-175,Inconsistent Fee Deduction in SellCreditMarket (exactAmountIn=false),"QA at most, fees",,params.amount as cash not catered for,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-125,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-BuyCreditMarket-002,DUPE-SellCreditMarket-002""",,,,,
Satisfactory,validation-137,"Protocol's liqiudation profit is fully relying on the loan's collateral remainder, forcing the protocol to earn inconsistent rewards when liquidating loans of same debt",Relies on alleged remediation,inconsistent liq fee/profit,Flawed calculation affecting borrower with healthier collateral ratio status,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L104-L112,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,validation-137,DUPE-Liquidate-001,DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,,,
Satisfactory,validation-143,Borrower always can DoS a Lender trying to exit credit early.,,frontrun DOS early exit with compensate,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L139-L145,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L87,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L87,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L139-L145""",validation-143,"""DUPE-Compensate-002,DUPE-SellCreditMarket-004""",DUPE-Compensate-001,DUPE-PriceFeed-001,,,
Satisfactory,validation-154,Inability to perform partial liquidations allows huge positions to does not get liquidate,,need partial liquidation,Likely whale impedence,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L70-L128,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L118,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L70-L128,validation-154,DUPE-Liquidate-001,,,,,
Satisfactory,validation-161,Whales might not be able to get liquidated due to no way to partially liquidate,,need partial liquidation,Likely whale impedence,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L70-L128,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L118,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L70-L128,validation-154,DUPE-Liquidate-001,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Satisfactory,validation-238,Inability to perform partial liquidations allows huge positions to accrue bad debt in the system,,need partial liquidation,Likely whale impedence,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L70-L128,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L118,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L70-L128,validation-154,DUPE-Liquidate-001,,,,,
Satisfactory,validation-315,Full liquidations of debt positions risks putting the protocol in bad debt,,need partial liquidation,Likely whale impedence,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L70-L128,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L118,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L70-L128,validation-154,DUPE-Liquidate-001,,,,,
Satisfactory,validation-195,Incorrect checked address in `CapsLibrary.validateVariablePoolHasEnoughLiquidity` causes critical functions to be in a DoS state,interesting,aave liquidity check,Incorrect address reference,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,,,,,
Satisfactory,validation-196,"Size uses wrong source to query available liquidity on Aave, resulting in borrow and lend operations being bricked upon mainnet deployment",interesting,aave liquidity check,Incorrect address reference,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,,,,,
Satisfactory,validation-265,Validation logic in `validateVariablePoolHasEnoughLiquidity()` is inaccurate with the introduction of virtual Accounting in AAVE3.1,,aave liquidity check,Incorrect address reference,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,,,,,
Satisfactory,validation-543,Incorrect address was used to check whether the variable pool has enough liquidity,interesting aave,aave liquidity check,Incorrect address reference,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-004,,
Satisfactory,validation-546,All transactions in which CapsLibrary::validateVariablePoolHasEnoughLiquidity is called revert,interesting aave,aave liquidity check,Incorrect address reference,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001,,
Satisfactory,validation-551,Wrong liquidity checking lead to token being stuck,interesting,aave liquidity check,Incorrect address reference,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-559,Incorrect Liquidity Check in Variable Pool Disrupts Borrowing Operations,interesting,aave liquidity check,Incorrect address reference,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-598,```validateVariablePoolHasEnoughLiquidity``` will always revert due to ```balanceOf``` check on wrong address,interesting,aave liquidity check,Incorrect address reference,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,,,,,
Satisfactory,validation-642,`validateVariablePoolHasEnoughLiquidity` will always fail causing complete DOS to the protocol,interesting,aave liquidity check,Incorrect address reference,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-196,DUPE-CapsLibrary-001,DUPE-CapsLibrary-003,DUPE-Multicall-001,,,
Satisfactory,validation-201,Borrower should always get liquidated from the smaller debt position.,,"liq mechanism, should start from small position, relate to validation#358",Liquidation should be in ascending size,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L75,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100""",validation-201,"""DUPE-Liquidate-001,DUPE-Liquidate-001""",,,,,
Satisfactory,validation-204,The miscalculation of maxCashAmountOut in SellCreditMarket.sol negatively impacts the Size protocol by hindering the accurate valuation and trading of existing credit positions.,"QA at most, fees",maxCashAmountOut,DoS due to flawed limitation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L173-L175,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L173-L175,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162""",validation-204,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-001""",,,,,
Satisfactory,validation-211,Inconsistent Cash Amount Out Calculation in Existing Positions.,,maxCashAmountOut math,DoS due to flawed limitation,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,validation-204,DUPE-BuyCreditMarket-001,,,,,
Satisfactory,validation-209,`getCreditAmountOut` Doesn't Account for Swap Fee in Credit Fractionalization.,"QA at most, fees",creditAmountOut miss swap fee,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L296,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L296""",validation-209,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001""",,,,,
Satisfactory,validation-325,Borrower overpays interest due to incorrect inclusion of fragmentation fee in credit calculation,fee 2 getCreditAmountIn,fragmentation fee double count,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185""",validation-209,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-372,Fragmentation fee and fee calculation in Sell Credit Market is Wrong leading to the payment of less or overpayment when using Credit and Cash.,"QA at most, fees",inconsistent fee cash/credit amount in/out,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-329,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-329,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-209,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001""",,,,,
Satisfactory,validation-550,AccountingLibrary::getCreditAmountIn ensures that borrowers end up paying more for fragmentation than specified in fee config,fee 2 getCreditAmountIn,fragmentation fee double count,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185""",validation-209,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-57,Incorrect Credit Amount Calculation in `getCreditAmountIn` Function Due to Improper Fragmentation Fee Handling,"QA at most, fees",creditAmountIn,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L250-L257,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L250-L257,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249""",validation-209,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-002""",DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,DUPE-UpdateConfig-001,,
Satisfactory,validation-570,There is a discrepancy in which party pays the fragmentation fee depending on whether buyMarketCredit or sellMarketCredit is used,inconsistent fragmentation fee charging,"fragmentation fee from borrower or lender, findings #11",fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207-L213,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L294""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L202,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207-L213,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L294,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L202""",validation-209,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001""",DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-58,Double-Counting of Fragmentation Fee in getCashAmountIn Function Leads to Incorrect Calculations,"QA at most, fees",fragmentation fee double count,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185""",validation-209,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001""",,,,,
Satisfactory,validation-664,When calculating `creditAmountIn` and `creditAmountOut` the `interest rate` is applied on top of the `fragmentationFee`,fee 2 getCreditAmountIn,fragmentation fee double count,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185""",validation-209,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-Compensate-002,DUPE-RiskLibrary-003,,,
Satisfactory,validation-665,Incorrect Fee Calculation in Credit Fractionalization Scenario,fee 2,fragmentation fee double count,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185""",validation-209,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-Compensate-002,DUPE-Compensate-002,,,
Satisfactory,validation-215,Overdue positions that are well collateralized will suffer greater losses than expected,,liq fee math,Flawed calculation affecting borrower with healthier collateral ratio status,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L105-L108,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L107-L112,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,validation-215,DUPE-Liquidate-001,,,,,
Satisfactory,validation-262,"During liquidation, the higher the collateral ratio is, the more the loss of borrower is. ",,liq fee math,Flawed calculation affecting borrower with healthier collateral ratio status,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L105-L108,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L107-L112,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,validation-215,DUPE-Liquidate-001,,,,,
Satisfactory,validation-232,Incorrect fee calculation in `AccountingLibrary.getCreditAmountIn` causing the protocol to receive a lower swap fee,"QA at most, fees","swap fee, 2 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-232,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-297,Incorrect fee calculation in sellCreditMarket,"QA at most, fees","swap fee, 2 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-232,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-305,Incorrect calculation of swapFees in `getCreditAmountIn` function,"QA at most, fees","swap fee, 2 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-232,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-404,Protocol swap fees accidentally sent to lender instead of the protocol due to wrong fees calculation in SellCreditMarket.,"QA at most, fees","swap fee, 2 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-232,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-432,`Fees` is calculated wrongly in `AccountingLibrary.sol#getCreditAmountIn()` function.,"QA at most, fees","swap fee, 2 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-232,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,
Satisfactory,validation-44,Wrong calculation of `fees` in `SellCreditMarket` when `params.exactAmountIn == false` and `params.creditPositionId == RESERVED_ID`,"QA at most, fees","swap fee, 2 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-232,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-538,"When `sellCreditMarket()` is called to sell credit for a specific cash amount, the protocol might receive a lower swapping fee than expected.","QA at most, fees","swap fee, 2 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-232,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-66,Inconsistent fees in `sellCreditMarket` when passing amount as credit or cash,"QA at most, fees","swap fee, 2 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-232,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-Compensate-002,DUPE-SellCreditMarket-004,,,
Satisfactory,validation-253,Chainlink's `latestRoundData` might return stale or incorrect results in `PriceFeed.sol`,interesting chainlink,oracle stale,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L73,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L73""",validation-253,"""DUPE-Compensate-001,DUPE-PriceFeed-001""",,,,,
Satisfactory,validation-453,Borrower cannot save himself from liquidation by paying partial debt - Compensate.sol,,"allow partial repay for overdued loan, maybe by design",Inadequate remediation for underwater borrowers,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L51-L53,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L250,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L250,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L51-L53""",validation-284,"""DUPE-Compensate-005,DUPE-Size-003""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001,,
Satisfactory,validation-517,User Unable To Partially Repay Debt To Avoid Liquidation,,"allow partial repay for overdued loan, maybe by design",Inadequate remediation for underwater borrowers,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L51-L53,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L250,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L250,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L51-L53""",validation-284,"""DUPE-Compensate-005,DUPE-Size-003""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-LiquidateWithReplacement-001,,
Satisfactory,validation-290,Insufficient validation of `maxDueDate` presents a risk for lenders allowing unintended 0% APR loans,,maxduedate,Low QA on user input mistake,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,validation-290,DUPE-BuyCreditLimit-001,,,,,
Satisfactory,validation-302,Excess Collateral Not Returned to Borrower in High-Collateral Liquidation Scenarios,,excess collateral not returned to borrower,Flawed calculation affecting borrower with healthier collateral ratio status,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L104-L112,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,validation-302,DUPE-Liquidate-001,,,,,
Satisfactory,validation-303,Inadequate checks to confirm the correct status of the sequecnce/sequecncerUptimeFeed in `PriceFeed.getPrice()` contract.,interesting chainlink,oracle sequecncer,Known Chainlink readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L73,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L63-L77,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L63-L77,validation-303,DUPE-PriceFeed-001,,,,,
Satisfactory,validation-308,Users can end up with unwanted debt,exit?,same struct order cause unexpected borrow,Intended design,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L177-L186,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L86-L88""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L177-L186,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L86-L88""",validation-308,"""DUPE-BuyCreditMarket-002,DUPE-Size-004""",,,,,
Satisfactory,validation-111,Wrong calculation of `liquidatorReward` in `executeLiquidate`,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-141,Incorrect calculation of the cap on the liquidation reward leads to loss of funds,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-159,"Because of a decimal issue, the liquidator gets next to nothing as a liquidation rewards when liquidating a borrow position",units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-187,liquidatorReward is Incorrectly calculated: Inconsistent Units,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-191,`executeLiquidate()` liquidaterReward is totally underestimated because the computation computes `futureValue` as 6 decimals,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-203,The method of calculate liquidator reward is incorrect,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-213,Errors in the calculation of the liquidator's reward result in the protocol not being able to correctly allocate the liquidation reward,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-222,Liquidators are unfairly robbed of their liquidation reward,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-229,"Liquidator would never see intended profit from liquidations, due to bad liquidatorReward calculation",units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-257,Liquidator rewards are inflated.,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-272,Incorrect computation of liquidator's reward,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-298,Issues Arising from Liquidation Reward Misvaluation/Miscalculation,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-316,Liquidation reward is calculated incorrectly and will always be very low which presents no incentive for liquidators to liquidate underwater/overdue positions,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-319,Unexpected reverts or no incentives during liquidation due to wrong liquidatorReward calculation.,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-323,Incorrect liquidator reward calculation results in significant loss of reward,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-324,Incorrect Reward Calculation in `executeLiquidate`,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-332,LiquidatorReward is not properly calculated,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-347,Liquidator's reward are wrongly computed because they are not converted to its value worth in collateral.,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-350,Wrong `liquidatorReward` in a profitable liquidation.,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-365,"The Liquidate::liquidatorProfitCollateralToken function currently over-rewards liquidators due to combining collateral and borrow tokens, resulting in consistently high liquidator reward.",units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-391,Liquidator reward is incorrectly calculated during liquidation,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-407,Normal `Liquidate` action incentives are too low due to decimals misshandling,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-412,Liquidator reward is not calculated correctly,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-001,DUPE-Compensate-002,,,
Satisfactory,validation-419,Liquidator cannot achieve proper liquidator reward as protocol promised,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-003,DUPE-Compensate-002,,
Satisfactory,validation-42,Liquidators will never profit from liquidations,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-001,DUPE-Compensate-002,DUPE-Compensate-006,,
Satisfactory,validation-431,Incorrect validation to determine liquidatorReward,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-001,DUPE-SellCreditMarket-003
Satisfactory,validation-451,Liquidator Reward is calculated wrong due to incorrect comparison- Liquidation.sol,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-46,Incorrect calculation of liquidator reward in Liquidate.sol leads to failed liquidations,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-480,`liquidatorReward` computation use `debtPosition.futureValue` in place of `debtInCollateralToken` in `Liquidate.sol`,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,
Satisfactory,validation-484,`liquidatorReward` calculation is not correct,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-505,"Due to wrong calculation of liquidator Reward, unexpected financial Loss of Protocol fee Recipient and Borrower is happening during Liquidation.",units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001,,
Satisfactory,validation-514,Incorrect Handling of Decimal Places in Liquidation Reward Calculation,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-520,Liquidators can steal borrowers collateral tokens due to wrong assumption.,,liquidatorreward,18 decimal debtInCollateralToken NOT used,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-540,Incorrect calculation of liquidation rewards results in all liquidations being profitless,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-554,Decimal error in calculation of the liquidator's reward,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-557,No Incentive for Liquidation Due to Incorrect Calculation of Liquidator Rewards,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-558,"Liquidator reward is calculated wrongly, causing it to be extremely low, not incentivising for liquidations to be made",units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-568,Incorrect calculation for liquidatorReward in executeLiquidate function,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-582,Liquidator reward is calculated wrongly,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-584,`liquidatorReward` calculated incorrectly resulting in liquidator receiving dust fees,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-585,Liquidator receives a dust amount as a reward due to an incorrect calculation of the liquidatorProfitCollateralToken,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-CapsLibrary-001,DUPE-CapsLibrary-003,,,
Satisfactory,validation-594,Incorrect ```liquidatorReward``` calculation due to using ```debtPosition.futureValue``` instead of ```debtInCollateralToken```.,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,,,,,
Satisfactory,validation-65,Invalid comparison when computing the liquidator's reward in `executeLiquidate`,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-Claim-001,DUPE-Size-005,,,
Satisfactory,validation-688,Liquidations can't be profitable due to wrong decimals used in `executeLiquidate()`,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-704,Incorrect Liquidator Reward Calculation Due to Mismatched Token Denominations,units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-711,"Due to wrong math, liquidation incentive is always a dust amount, exposing protocol to risk of insolvancy",units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-715,The rewards assigned to the Liquidators are insignificant (almost non-existing),units,liquidatorreward,18 decimal debtInCollateralToken NOT used,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,validation-323,DUPE-Liquidate-001,DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-327,Incorrect swap fee calculation in SellCreditMarket leads to protocol receiving less than they should,"QA at most, fees","swap fee, no credit fractionalization",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-327,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-606,Wrong fee calculation when user sells his full ```CreditPosition``` calling ```sellCreditMarket()``` with ```exactAmountIn``` as false,"QA at most, fees","swap fee, no credit fractionalization",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-327,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-CapsLibrary-003,DUPE-Multicall-001,,,
Satisfactory,validation-336,"During profitable liquidations, under certain conditions the fee for the protocol can be 0",,collateralRemainder math,18 decimal debtInCollateralToken NOT used,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L95-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L95-L99,validation-336,DUPE-Liquidate-001,,,,,
Satisfactory,validation-337,Size overcharges lender and overpays borrower during `sellCreditMarket` calls,,unfair fee,Seems valid with coded POC,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L201,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127-L202,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127-L202,validation-337,DUPE-SellCreditMarket-001,,,,,
Satisfactory,validation-339,Charging more Credit than what it should be really charged to CreditSellers when Selling Credit with a market order for a specific amount of cash.,"QA at most, fees",swap fee getCreditAmountIn SellCreditMarket,Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L171-L178,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L171-L178""",validation-339,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001""",,,,,
Satisfactory,validation-353,Borrowers pay more credit than necessary due to incorrect calculations,"QA at most, fees","swap fee, credit fractionalization",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-353,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-445,Wrong calculation of `fees` in `SellCreditMarket` when `params.exactAmountIn == false` and `params.creditPositionId != RESERVED_ID`,"QA at most, fees","swap fee, credit fractionalization",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-353,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-358,Current liquidation mechanism can cause borrowers with multiple debt positions to lose collateral more than they should,,all positions share the same CR,Liquidation should be in descending size,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L53-L64,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L53-L64,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161""",validation-358,"""DUPE-LoanLibrary-002,DUPE-RiskLibrary-002""",,,,,
Satisfactory,validation-360,Size performs insufficient available liquidity check during `liquidateWithReplacement` calls,,liquidation should check liquidatorProfit,Seems valid with coded POC on an edge case,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L229-L243,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L229-L243,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L229-L243,validation-360,DUPE-Size-001,,,,,
Satisfactory,validation-364,"Protocol pausing during market volatility can prevent lenders from self-liquidating debt, potentially leading to significant financial losses.",Acceptable risk but should be noted regardless,"paused cannot liq, relate to findings#5",Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L223,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L223,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115""",validation-364,"""DUPE-RiskLibrary-001,DUPE-Size-002""",,,,,
Satisfactory,validation-531,Liquidate & Self-Liquidate Should Have 100% Uptime,Acceptable risk but should be noted regardless,"paused cannot liq, relate to findings#5",Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L223,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L223,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115""",validation-364,"""DUPE-RiskLibrary-001,DUPE-Size-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-004,DUPE-SellCreditMarket-001,
Satisfactory,validation-368,"The `validateVariablePoolHasEnoughLiquidity()` check can be bypassed, giving certain users an unfair advantage",QA,sandwich aave pool,Incorrect address reference featuring a sandwich attack,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L19-L44""",validation-368,"""DUPE-CapsLibrary-001,DUPE-CapsLibrary-003""",,,,,
Satisfactory,validation-561,`validateVariablePoolHasEnoughLiquidity`'s checking condition can be bypassed.,,sandwich aave pool,Incorrect address reference featuring a sandwich attack,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L60-L75,validation-368,DUPE-CapsLibrary-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-371,Users may incur an unexpected fragmentation fee in the `compensate()`  call,,"frontrun borrower's compensate(), lead to unexpedted fragmentation fee. Some issue about compensate flow, the fee should be consistent for different orders of actions.",Missing check for creditPositionWithDebtToRepay.credit > 0 (Opposing scenario described),,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136""",validation-371,"""DUPE-Compensate-003,DUPE-Compensate-004""",,,,,
Satisfactory,validation-375,Lender always can DoS a Lender trying to exit credit early.,,frontrun DOS early exit buying minimum,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L139-L145,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L87,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L87,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L139-L145""",validation-375,"""DUPE-Compensate-002,DUPE-SellCreditMarket-004""",,,,,
Satisfactory,validation-378,Compensations can be used to artificially make a position overdue and avoid a larger protocol fee during liquidations under certain conditions,compensation delay of liquidation,"compensate to switch from underwater to overdue loan, skip fee",Devoid of coded POC to allege the exploit. Known Solidified issue 7. Infeasible in the context after all,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L75-L82,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L76-L77,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L75-L82,validation-378,DUPE-Compensate-001,,,,,
Satisfactory,validation-212,No incentives to write off bad debt when remaining collateral is very small,"QA, small loan profitability liquidation",liq unprofitable,Illiquid dust debt,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L220,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L220,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100""",validation-38,"""DUPE-Liquidate-001,DUPE-Size-002""",,,,,
Satisfactory,validation-38,"Borrowers can partially pay back and leave a small borrowing amount in their position, leading to the protocol's bad debt","QA, small loan profitability liquidation",liq unprofitable,Illiquid dust debt,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L220,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L220,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100""",validation-38,"""DUPE-Liquidate-001,DUPE-Size-002""",,,,,
Satisfactory,validation-409,There's no liquidation incentive for small positions which can lead to the accrual of bad debt,"QA, small loan profitability liquidation",liq unprofitable,Illiquid dust debt,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L95-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L95-L100,validation-38,DUPE-Liquidate-001,,,,,
Satisfactory,validation-566,Unprofitable Liquidation for Small Loans Leads to Bad Debt,"QA, small loan profitability liquidation",liq unprofitable,Illiquid dust debt,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,validation-38,DUPE-Liquidate-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-612,profit margin when liquidating small positions might not be enough to cover liquidator costs,"QA, small loan profitability liquidation",liq unprofitable,Low QA on protocol current design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L100,validation-38,DUPE-Liquidate-001,DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002,,
Satisfactory,validation-380,"Compensate can be used to dump ""unwanted"" positions on unsuspecting lenders",appears to be QA,some lenders could get unwanted position. Maybe expected behavior.,Devoid of coded POC to allege the exploit,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L95,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L139-L144,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L139-L144,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L95""",validation-380,"""DUPE-Compensate-002,DUPE-RiskLibrary-003""",,,,,
Satisfactory,validation-127,Bad debt cannot be liquidated when contract is paused,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-001,,
Satisfactory,validation-167,Debt repayment and collateral loss risk if Size contract is paused,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",,,,,
Satisfactory,validation-237,Repay and liquidate are pausable but no grace period applied to liquidations after protocol gets unpaused which would lead to unfair liquidations of users,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",,,,,
Satisfactory,validation-288,No mechanism to protect `DebtPositions` that become overdue during Protocol Pause from liquidations,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",,,,,
Satisfactory,validation-294,Borrower Gets Immediately Liquidated After Repayments Resume,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",,,,,
Satisfactory,validation-382,A borrower's debt position can be forced to be liquidated - even though the borrower was willing to repay,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",,,,,
Satisfactory,validation-468,Pausing Prevents Closure and Liquidation of Outstanding Loan,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-564,Borrower are not able to repay debt when protocol is paused.,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-576,Liquidators can prevent users from making their positions healthy during an unpause.,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",DUPE-BuyCreditMarket-003,DUPE-Compensate-002,DUPE-SellCreditMarket-004,,
Satisfactory,validation-601,Users can not deposit and repay their loans if the contract is paused leading to unintended and uncontrollable overdue liquidations,Acceptable risk but should be noted regardless,paused cannot repay,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",findings-25,"""DUPE-LoanLibrary-001,DUPE-RiskLibrary-001""",,,,,
Satisfactory,validation-426,Wrong calculations causes the borrowers to owe more credit than necessary,"QA at most, fees",swap fee netCashAmountIn,Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L294,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L294""",validation-426,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-AccountingLibrary-001,DUPE-Compensate-002,DUPE-Compensate-006,,
Satisfactory,validation-440,still possible to take loans amounts below the riskConfig.minimumCreditBorrowAToken,minimum bypass via replacement,LiquidateWithReplacement() break minimumCreditBorrowAToken limit,Known readme issue. Admins are trusted,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L47-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L120,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L120,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L47-L93""",validation-440,"""DUPE-LiquidateWithReplacement-002,DUPE-LiquidateWithReplacement-003""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006
Satisfactory,validation-281,"When liquidateWithReplacement is called, the new borrower does not pay the swapFee ",no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,,,,,
Satisfactory,validation-329,Borrowers do not pay any swap fees during liquidation with replacement,no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,,,,,
Satisfactory,validation-345,CreditSellers are not charged the swapFee for receiving cash when their SellCredit LimitOrders are filled by a liquidation with replacement,no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,,,,,
Satisfactory,validation-390,borrower that get matched through `liquidateWithReplacement()` will unfairly get more Cash than he should.,no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,,,,,
Satisfactory,validation-443,The new borrower in `LiquidateWithReplacement` is not charged swapping fee,no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-469,Protocol Fee isn't collected in liquidate with replacement,no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-475,"Users can pay less fees for the same amount of cash, protocol losses expected income","QA at most, fees","swap fee, 3 places",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",findings-53,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-567,"when a borrow Order is filled via Size::liquidateWithReplacement, the borrower does not end up paying for swap fees",no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-592,Borrowers pay more credit than necessary,"QA at most, fees",swap fee math,Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L177,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L177""",findings-53,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001""",,,,,
Satisfactory,validation-593,Through `liquidateWithReplacement` a borrower can avoid paying swap fees,no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,,,,,
Satisfactory,validation-607,Fees are not taken from the issuanceValue in the liquidateWithReplacement function.,no fee on replacement,liq miss swap fee,Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,findings-53,DUPE-LiquidateWithReplacement-001,DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002,,
Satisfactory,validation-449,Wrong low and high tenors  (values in the x axis) are used to calculate the final apr,Wrong order of arguments,"(high,low) or (low,high)",Insufficient proof (lacking coded POC) alleging the flaw,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Math.sol#L67,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/YieldCurveLibrary.sol#L115-L143,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Math.sol#L51-L68""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Math.sol#L51-L68,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/YieldCurveLibrary.sol#L115-L143""",validation-449,"""DUPE-Math-001,DUPE-YieldCurveLibrary-001""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-461,Incorrect calculation of fees lead to protocols Loss - sellCreditMarketOrder.,fee 2 getCreditAmountIn,"swap fee, POC not quite clear",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263""",validation-461,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-462,Seller/Borrower is grieved by making him pay the swapFee for the fragmentionFees that goes to the protocol. - SellCreditMarketOrder.,"QA at most, fees","flawed swap fee logic, borrower is paying the swapFees for fragmentationFees too which is destined to go to the protocol",Intended design,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127-L203,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-L217""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127-L203,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-L217,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-462,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-497,Incorrect Overdue Liquidation Protocol Fees Calculation,,liq collateralRemainderCap,Flawed calculation affecting borrower with healthier collateral ratio status,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L105-L108,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L107-L108,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,validation-497,DUPE-Liquidate-001,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001,,
Satisfactory,validation-719,Liquidate sets `collateralRemainderCap` incorrectly as only overcollateralization part needs to be compared to the remainder,,liq collateralRemainderCap,Flawed calculation affecting borrower with healthier collateral ratio status,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L105-L108,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L107-L108,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,validation-497,DUPE-Liquidate-001,DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-519,liquidation should have grace period for sequencer down time,Acceptable risk but should be noted regardless,oracle sequecncer,It's there: GRACE_PERIOD_TIME = 3600,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L63-L77,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L63-L77,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115""",validation-519,"""DUPE-PriceFeed-001,DUPE-RiskLibrary-001""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-522,Lenders can cause a loss for Borrowers when they sell their credit positions,lender forcing loss for borrower by increasing APR? a maximum is enforced so..,sell between lenders won't maintain APR range,Intended design. Incorrect assumptions in this context,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L107-L118,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127-L204,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127-L204,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L107-L118""",validation-522,"""DUPE-SellCreditMarket-001,DUPE-SellCreditMarket-005""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-98,Malicious lenders can force borrowers into fragmenting their credit positions,insufficient APR protections,"forced fragmentation, manipulate apr, relate to validation#522",Intended design. Incorrect assumptions in this context,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L107-L118,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L40,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L40,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L107-L118""",validation-522,"""DUPE-SellCreditMarket-005,DUPE-SellCreditMarket-006""",,,,,
Satisfactory,validation-523,The `borrowATokenCap` will be reached earlier than expected,,borrowATokenCap logic,Incorrect caps logic,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L52-L58,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L52-L59,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L52-L59,validation-523,DUPE-CapsLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-357,credit positions marked not for sale can be sold.,,"not forsale, miss validation",Inadequate check that backfires,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L51,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L51,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L51,validation-544,DUPE-SellCreditMarket-002,,,,,
Satisfactory,validation-544,Neither `sellCreditMarket‎()` nor `compensate‎()` checks whether the credit position to be sold is allowed for sale,,"not forsale, miss validation",Inadequate check that backfires,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L51,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L51,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L51,validation-544,DUPE-SellCreditMarket-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,
Satisfactory,validation-580,H-02 createDebtAndCreditPositions() and createCreditPosition() may result in backrunning exploit of user's loanOffer,immediate for sale exploit,forsale true,Intended design. Known Solidified issue 7,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",validation-597,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-003""",,,,,
Satisfactory,validation-597,Unresolved For-Sale Status After Credit Adjustment in createCreditPosition Function,immediate for sale exploit,forsale true,Invalid assumptions on an intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",validation-597,"""DUPE-AccountingLibrary-003,DUPE-AccountingLibrary-004""",,,,,
Satisfactory,validation-611,"`executeLiquidateWithReplacement` rounds in the wrong direction, breaking an invariant","QA at most, fees",rounding direction inconsistent liq replacement,Inconsequential low issue,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146""",validation-611,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-LiquidateWithReplacement-001""",DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002,,
Satisfactory,validation-629,Risk of Overpayment Due to Race Condition Between repay and liquidateWithReplacement Transactions,dangerous race condition,repay for other user after liquidation,Refactoring needed to avoid mishap,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L229-L244,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L229,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L229,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Repay.sol#L33-L41""","""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L229-L244,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Repay.sol#L33-L41""",validation-629,"""DUPE-Repay-001,DUPE-Size-001""",DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002,,
Satisfactory,validation-331,User funds could get stuck or unexpected reverts could occur,fee 2 getCreditAmountIn,inconsistent fee cash/credit amount in/out,Insufficient proof alleging the flaw,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-329,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-329,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",validation-643,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",,,,,
Satisfactory,validation-643,Market Fees Calculation Issue,"QA at most, fees",inconsistent fee cash/credit amount in/out,Low QA on trivial diffFees entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-329,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-329,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-643,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002,,
Satisfactory,validation-228,There is a missing check when compensating of a credit position.,Forceful for sale,"forsale check, relate to findings#82, validation#580",Intended design,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L139,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L139,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119""",validation-657,"""DUPE-AccountingLibrary-001,DUPE-Compensate-002""",,,,,
Satisfactory,validation-351,When a creditPosition is transferred to a new lender when calling `compensate` it is not ensured that the creditPosition is forSale,Forceful for sale,change other user's forSale parameter,forSale leak,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L42,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L42,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145""",validation-657,"""DUPE-AccountingLibrary-001,DUPE-Compensate-002,DUPE-Compensate-006""",,,,,
Satisfactory,validation-354,Borrowers can DoS Lenders from Selling Credit from their Existing CreditPositions by compensating the CreditPosition been sold,,frontrun and compensate same CreditPositionId,forSale leak,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L106-L156,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L87-L89,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L165-L173""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L106-L156,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L87-L89,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L165-L173""",validation-657,"""DUPE-BuyCreditMarket-003,DUPE-Compensate-002,DUPE-SellCreditMarket-004""",,,,,
Satisfactory,validation-657,Credit can be sold forcibly as `forSale` setting can be ignored via Compensate,Forceful for sale,forsale true,forSale leak,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145""",validation-657,"""DUPE-AccountingLibrary-001,DUPE-AccountingLibrary-003,DUPE-Compensate-002""",,,,,
Satisfactory,validation-70,"A borrower can force set other lender's credit position for sale, by calling compensate and passing `RESERVED ID`",Forceful for sale,change other user's forSale parameter,forSale leak,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L42,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L42,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145""",validation-657,"""DUPE-AccountingLibrary-001,DUPE-Compensate-002,DUPE-Compensate-006""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-727,It's possible to manipulate new credit position `forSale` flag via `createCreditPosition()`,Forceful for sale,change other user's forSale parameter,forSale leak,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L42,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L42,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L118-L119,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L118-L145""",validation-657,"""DUPE-AccountingLibrary-001,DUPE-Compensate-002,DUPE-Compensate-006""",DUPE-Compensate-005,DUPE-Size-003,,,
Satisfactory,validation-659,Overdue fees potentially penalize collateralization,,liq penalty mechanism,Flawed calculation affecting borrower with healthier collateral ratio status,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L105-L108,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L103-L112,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L90-L113,validation-659,DUPE-Liquidate-001,DUPE-Compensate-002,DUPE-SellCreditMarket-004,,,
Satisfactory,validation-494,Aave Yield on Lender Credit Repayment Vulnerable to Griefing,,"claim() access control, lender may lose aave yield",Inconsequential as long as the lender has not called withdraw(),https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Claim.sol#L48-L60,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Claim.sol#L48-L59,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L204-L207""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Claim.sol#L48-L60,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L204-L207""",validation-673,"""DUPE-Claim-001,DUPE-Size-005""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,,,
Satisfactory,validation-673,Any one can call `Size.claim` function thus depriving the lender of extra interest accrual,,"claim() access control, lender may lose aave yield",Inconsequential as long as the lender has not called withdraw(),https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Claim.sol#L48-L60,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Claim.sol#L48-L59,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L204-L207""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Claim.sol#L48-L60,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L204-L207""",validation-673,"""DUPE-Claim-001,DUPE-Size-005""",DUPE-Compensate-002,DUPE-Compensate-002,DUPE-Compensate-002,,
Satisfactory,validation-547,`getCreditAmountIn` returns lower fees than expected,"QA at most, fees",creditAmountIn,Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L250-L257,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249""",validation-686,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006
Satisfactory,validation-565,worng calculation of creditAmountIn in `sellCreditMarket` gives the borrower less `cashOut`,"QA at most, fees",creditAmountIn,Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L250-L257,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249""",validation-686,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-BuyCreditMarket-001,DUPE-SellCreditMarket-003,,,
Satisfactory,validation-608,Incorrect ```creditAmountIn``` calculation in ```getCreditAmountIn``` function when users sells a portion of their ```CreditPosition```,"QA at most, fees",creditAmountIn,Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L250-L257,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249""",validation-686,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002,,
Satisfactory,validation-623,AccountingLibrary's `getCreditAmountIn()` overstates `creditAmountIn` for the given `cashAmountOut`,fee 2 getCreditAmountIn,creditAmountIn,Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L250-L257,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",validation-686,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-CapsLibrary-003,DUPE-Multicall-001,DUPE-Multicall-002,,
Satisfactory,validation-686,SellCreditMarket's incorrect maximum cash amount and credit calculations impose hidden fees on the borrower,"QA at most, fees",swap fee getCreditAmountIn SellCreditMarket,DoS due to flawed limitation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L171-L178,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L171-L178,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162""",validation-686,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-004,DUPE-SellCreditMarket-001""",DUPE-Compensate-002,DUPE-Compensate-002,,,
Satisfactory,validation-710,BuyCreditMarket charges extra swap fees as AccountingLibrary's `getCashAmountIn()` and `getCreditAmountOut()` use incorrect base amount,"QA at most, fees","swap fee getCashAmountIn, wrong base",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L311-L332,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L274-L297""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L311-L332,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L274-L297,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",validation-686,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-728,Wrong calculation of futureValue of DebtPosition in simple lending & borrowing case,"QA at most, fees",swap fee getCreditAmountIn,Low inconsequential,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L171-L178,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L171-L178""",validation-686,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-SellCreditMarket-001""",,,,,
Satisfactory,validation-694,The `SwapFee`  is accounted twice in the `AccountingLibrary.getCreditAmountIn` function,,fragmentation fee double count,Likely incorrect fee calculation,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185""",validation-694,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-702,Discrepancy in the `swapFee` calculation during cash-for-credit operation,"QA at most, fees",fragmentation fee double count,Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185""",validation-694,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-699,Compensate with `RESERVED_ID` can be used for protocol DOS via slicing credit position where attacker is the borrower to the minimal allowed pieces,"QA most likely, but still something to consider","fragmentation dos, high cost, relate to validation#457",Missing check for creditPositionWithDebtToRepay.credit > 0,https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/Compensate.sol#L119-L126,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146-L155,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/Compensate.sol#L119-L126""",validation-699,"""DUPE-Compensate-002,DUPE-Compensate-002,DUPE-Compensate-002""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-703,Improper liquidation profit calculation on `validateMinimumCollateralProfit` due to omission of protocol fee,,,Fee should indeed be factored in pre-calculation,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L98-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L98-L115,""""""",validation-703,"""DUPE-""-001,DUPE-RiskLibrary-001""",#ERROR!,DUPE-RiskLibrary-001,,,
Satisfactory,validation-713,"`BuyCreditMarket.executeBuyCreditMarket` limits the maximum cash amount input more than is expected, causing calls that should be valid to fail",fee 2 getCreditAmountIn,maxCashAmountIn should include fragmentation fee,DoS due to flawed limitation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162""",validation-713,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-BuyCreditMarket-004""",DUPE-Compensate-003,DUPE-Compensate-004,,,
Satisfactory,validation-722,AccountingLibrary's `getCashAmountOut()` inflates swap fee by using the wrong base,,"swap fee getCashAmountOut, wrong base",Likely incorrect fee calculation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-L217,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-L217,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L228-L263""",validation-722,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002""",DUPE-Compensate-005,DUPE-Size-003,,,
Satisfactory,validation-252,inconsistency in variable pool liquidity validation,fee 2 getCreditAmountIn,aave liquidity amount exclude fee,Insufficient proof alleging the flaw,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""","""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",validation-730,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006""",,,,,
Satisfactory,validation-414,Incorrect cashAmount check for variable pool ability to fulfill withdrawal,,aave liquidity amount exclude fee,Insufficient proof alleging the flaw,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243""",validation-730,"""DUPE-Size-001,DUPE-Size-004,DUPE-Size-006""",DUPE-AccountingLibrary-001,DUPE-Compensate-002,DUPE-Compensate-006,,
Satisfactory,validation-578,Incorrect validation in Size.sol causes unexpected reverts,fee 2 getCreditAmountIn,aave liquidity amount exclude fee,Insufficient proof alleging the flaw,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""","""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",validation-730,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006""",DUPE-BuyCreditMarket-005,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006,
Satisfactory,validation-684,Inconsisstency in the way `sellCreditMarket()` and `buyCreditMarket()` handels the `validateVariablePoolHasEnoughLiquidity()` check,,aave liquidity amount exclude fee,Insufficient proof alleging the flaw,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L195,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L195""",validation-730,"""DUPE-BuyCreditMarket-005,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006""",DUPE-Compensate-002,DUPE-Compensate-002,,,
Satisfactory,validation-730,`executeBuyCreditMarket()` returns incorrect value for liquidity availability control,fee 2 getCreditAmountIn,aave liquidity amount exclude fee,Insufficient proof alleging the flaw,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""","""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L184,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L194,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L243,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",validation-730,"""DUPE-AccountingLibrary-002,DUPE-AccountingLibrary-002,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006""",,,,,
Satisfactory,validation-162,Users might not be able to withdraw USDC from the protocol,,"aave pool balance, relate to findings#152",Balance might run low,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,validation-96,DUPE-CapsLibrary-001,DUPE-PriceFeed-001,DUPE-RiskLibrary-001,,,
Satisfactory,validation-96,Borrowers might not be able to withdraw their borrowed tokens due to a very insufficient check,,"aave pool balance, relate to findings#152",Balance might run low,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,validation-96,DUPE-CapsLibrary-001,,,,,
Unsatisfactory,validation-100,CreditPosition is forsale immediately after created,"intended, insufficient elaboration",forsale true,Intended design. Known Solidified issue 7,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,,,,,
Unsatisfactory,validation-101,Claim.sol Shortchanges Lenders Due to Flawed Rounding Logic,,,Low inconsequential,,,,"""""",,,DUPE-Liquidate-001,DUPE-Liquidate-001,,,
Unsatisfactory,validation-106,Unrestricted Proxy Initialisation in the Size contract,,,Bot: [Low-9]	Initializer function can be front run,,,,"""""",,,,,,,
Unsatisfactory,validation-107,[M-02] Incorrect rounding down in `PriceFeed::getPrice()` function can lead to precision loss,,,Bot: [Low-11] Loss of precision,,,,"""""",,,DUPE-Liquidate-001,DUPE-Size-002,,,
Unsatisfactory,validation-11,Potential Reentrancy Attack on the withdraw function in the Size Smart Contract,,,CEI well in place in DepositTokenLibrary.sol,,,,"""""",,,,,,,
Unsatisfactory,validation-110,Users can not withdraw USDC when they are below the opening limit borrow CR,intended,too strict CR affect withdraw,Intended and known issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,,,,,,
Unsatisfactory,validation-114,A attacker can fill up the whole block at near the end of a loan to prevent the borrower from repaying and then profit from the liquidation process,blockchain related,"block stuffing to liquidate, but only if the user repay at last minute",Commonly known front-running issue,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L198-L201""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L198-L201""",,,,,,,
Unsatisfactory,validation-116,Mismatch between the code and documentation could lead to DoS,admin action,,Low QA,,,,"""""",,,,,,,
Unsatisfactory,validation-119,Malicious actor could change core protocol's configuration params,,,Infeasible per the described POC,,,,"""""",,,,,,,
Unsatisfactory,validation-12,I found several potential vulnerabilities and weak points that a hacker could potentially exploit,,,Incorrect assumptions and perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-120,`liquidateWithReplacement` and `buyCreditMarket` can be DoS in some cases,,"temporary DOS liq, but when price drops fast, it could lead to loss",Intended design. Known Solidified issue 7. Infeasible in the context after all,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L182,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L182,,,,,,,
Unsatisfactory,validation-121,deposit `underlyingBorrowToken` can be DoS,,"sandwich to grief, but seems no big loss",Intended design. Known Solidified issue 7. Infeasible in the context after all,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L80,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L80,,,,,,,
Unsatisfactory,validation-122,`asigneCollateral` variable is incorrectly rounding down,,rounding direction liq,Low and inconsequential,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,,,,,,
Unsatisfactory,validation-124,Lender has to have a borrowOffer to exit early,,same struct order cause unexpected borrow,Intended design,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L177-L186,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L86-L88""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L177-L186,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L86-L88""",,,,,,,
Unsatisfactory,validation-126,Malicious user can reduce victim's credit amount,,,Intended design. Known Solidified issue 7,,,,"""""",,,,,,,
Unsatisfactory,validation-128,"Old borrowOffer lingering can affect all future newly acquired credit positions, leading to unintended transactions ",,forsale true,Intended design,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,,,,,
Unsatisfactory,validation-129,The calculation in the credit fractionalization situation may lead to manipulation of credit amount,,,Informational on protocol controlled/intended parameters,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L253-L255,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L253-L255,,,,,,,
Unsatisfactory,validation-13,5 Vonalblits,,,Inadequate elaboration and insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-130,Users may be incorrectly liquidated or denied access to certain features based on the incorrect collateral ratio.,,,Insufficient proof (lacking coded POC) alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-131,Incorrect Collateral Ratio Calculation Due to Decimal Mismatch in Reverse Markets,,,Insufficient proof (lacking coded POC) alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-132,SelfLiquidate Function Allows Theft of Collateral Due to Incorrect Transfer Recipient,,,Incorrect assumptions and inadequate proof,,,,"""""",,,,,,,
Unsatisfactory,validation-133,Unfair Collateral Distribution in Self-Liquidation: Repay Fee Omitted from Assigned Collateral Calculation,,,Incorrect perceptions and devoid pf coded POC to allege the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-134,`DebtInCollateralToken` Check Missing,,,Invalid assumptions on an intended design,,,,"""""",,,DUPE-Liquidate-001,DUPE-Size-002,,,
Unsatisfactory,validation-135,Incomplete Debt Position Update in `LiquidateWithReplacement` Due Date Not Reset,,,Devoid of coded POC to allege the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-136,Incorrect Calculation Due to Order of Operations,,,Incorrect perceptions on the current design,,,,"""""",,,,,,,
Unsatisfactory,validation-14,10 Vonalblity of smart contact,,,Incorrect assumptions and perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-142,Missing a necessary validation for tenor which can allow the tenor to be lower than the min threshold set by the protocol safety parameter,,"tenor range, relate to validation#522",Insufficient proof alleging the flaw while admins are trusted on updating new parameters,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L115,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L115,,,,,,,
Unsatisfactory,validation-144,Attaching payable modifier to external functions not handling msg.value will lead to locking of funds,,,Low QA as caller needs beware of mistake,,,,"""""",,,,,,,
Unsatisfactory,validation-146,"Approvals can be revoked by the token owner, leading to liquidations being reverted",,,Invalid assumptions and insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-147,Wrong unscale could lead to stuck amount,QA,,Incorrect assumptions,,,,"""""",,,,,,,
Unsatisfactory,validation-148,Borrowers can deny lenders that are trying to early exit a position,,frontrun DOS early exit with compensate,Intended design,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L87,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L87,,,,,,,
Unsatisfactory,validation-150,Borrowers can avoid liquidations under certain conditions,,liquidatorreward,Intended design contingent on market fluctuation,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,,,,,,,
Unsatisfactory,validation-155,The `collateralRemainderCap`  is not the correct cap,,seems misunderstanding,Inadequate proof alleging the flaw,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L105-L108,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L105-L108,,,,,,,
Unsatisfactory,validation-163,User could sell its credit without intention,intended,forsale true,Intended design. Known Solidified issue 7,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,,,,,
Unsatisfactory,validation-165,Inadequate safety parameters validation -- missing the check of a gap as the buffer zone between crOpening and crLiquidation,,,Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-166,"The updateConfig about the `crLiquidation` is currently using a risky design, but there is a safer design for it",,,Low QA on protocol controlled function,,,,"""""",,,,,,,
Unsatisfactory,validation-168,USDC Collateral and WETH Debt Mismatch in collateralRatio Function,,,Insufficient proof (lacking coded POC) alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-169,Incorrect Conversion in debtTokenAmountToCollateralTokenAmount (Reverse Market),,,Insufficient proof (lacking coded POC) alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-170,Debt Not Reduced in Debt Position During Self-Liquidation,,,Incorrect perceptions on the current design,,,,"""""",,,,,,,
Unsatisfactory,validation-171,validateSelfLiquidate Uses Borrower's Overall Collateral Ratio,,,Incorrect perceptions on the current design,,,,"""""",,,,,,,
Unsatisfactory,validation-172,executeLiquidateWithReplacement Miscalculates Rate for New Borrower (Liquidation),,,Devoid of coded POC to allege the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-173,executeSelfLiquidate Sends Collateral to msg.sender (Not Borrower),,,Incorrect assumptions and inadequate proof,,,,"""""",,,,,,,
Unsatisfactory,validation-174,executeSelfLiquidate Function: Pass assignedCollateral as Argument to transferFrom,,,Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-176,getDebtPositionAssignedCollateral Misuses Total Borrower Debt/Collateral (Liquidation),,,Incorrect assumptions,,,,"""""",,,,,,,
Unsatisfactory,validation-177,getCreditAmountOut Miscalculates Credit Due to Doubled Swap Fee (Fragmentation),"QA at most, fees",,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,,,,,
Unsatisfactory,validation-178,executeSellCreditMarket Miscalculates maxCashAmountOut for Partial Lender Exits,,,DoS due to flawed limitation,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,""""""",,,,,,,
Unsatisfactory,validation-18,Inconsistent Intermediate Asset Check in PriceFeed Constructor Leading to Incorrect Price Calculations,,,Known readme issue,,,,"""""",,,,,,,
Unsatisfactory,validation-180,Missing check for `RoundID`,,,Known readme issue,,,,"""""",,,,,,,
Unsatisfactory,validation-181,Bad stale borrowRate check could lead to borrow/lend at unexpected rate,,,Incorrect assumptions and perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-182,Invalid `price` check,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-183,In `getAdjustedAPR` the APR will not be adjusted and it will revert,,,Informational on protocol controlled deploy script,,,,"""""",,,,,,,
Unsatisfactory,validation-184,Lack of Loan Status Check in `createCreditPosition` Function Allows Modification of Non-Active Loans,,,Insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-186,Insufficient fee check in `getCreditAmountOut` can lead to Underflow and incorrect credit calculation,,,fragmentationFee is paid by whoever causes the fragmentation,,,,"""""",,,,,,,
Unsatisfactory,validation-189,Incorrect Validation Logic in UpdateConfig.sol,,"cr updating validation, relate to validation#421",Invalid assumptions and insufficient proof,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L87-L92,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Initialize.sol#L108-L110""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L87-L92,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Initialize.sol#L108-L110""",,,,,,,
Unsatisfactory,validation-190,Liquidated user is favored instead of liquidator when calculating the debt positions assigned collateral,,no significant loss,Low inconsequential,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,,,,,,
Unsatisfactory,validation-192,User's collateral Can Be Infllated  With Just 1 wei,,address(this).balance,The user will be lucky with a foolish attacker then,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L71,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L71,,,,,,,
Unsatisfactory,validation-193,Incorrect fee calculation in `getCashAmountOut()` results in overcharging users,,,Circumvented by (fees > maxCashAmountOut),"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L197,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L207""",,,,,,,
Unsatisfactory,validation-194,Mistakenly sent eth could be locked,,,Low QA on user's mistakes,,,,"""""",,,,,,,
Unsatisfactory,validation-197,Size can overestimate liquidity on borrowing and lending actions after Aave upgrades to v3.1,variant?,aave liquidity check,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L68,,,,,,,
Unsatisfactory,validation-198,Deposit of ETH and USDC will not work together in multicall,,,"Coded POC inadequate alleging the flaw. Also, not explaining why a need for depositing ETH and USDC in the same batch",,,,"""""",,,,,,,
Unsatisfactory,validation-199,`executeSellCreditMarket` Uses `Unupdated cashAmountOut` for `exactAmountIn=false`,,,params.amount as cash not catered for,,,"""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93""","""https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93,""""""",,,,,,,
Unsatisfactory,validation-2,The Size contract does not properly enforce access control,,,Bot: [Low-9]	Initializer function can be front run,,,,"""""",,,,,,,
Unsatisfactory,validation-200,`executeBuyCreditMarket` Uses Lender Address Instead of Borrower for Existing Loans,,,Incorrect perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-202,`executeLiquidate` Miscalculates Profit in Unprofitable Liquidations,,,18 decimal debtInCollateralToken NOT used,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,""""""",,,,,,,
Unsatisfactory,validation-205,getDebtPositionAssignedCollateral Reverts on Zero Debt with Non-Zero Collateral.,,,Incorrect assumptions,,,,"""""",,,,,,,
Unsatisfactory,validation-207,Unsuccessful Aave Withdrawal Leads to BorrowAToken Burn,OOS?,,"Aave validateWithdraw() will revert if need be. If nothing is received still, 0 amount will be burned",,,,"""""",,,DUPE-LiquidateWithReplacement-002,DUPE-LiquidateWithReplacement-003,,,
Unsatisfactory,validation-210,Lender Mismatch When Creating New Credit Positions,,,Incorrect perceptions,,,,"""""",,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-218,A lender can lose borrowAmount when another lender buys his creditpositionid,,sell between lenders won't maintain APR range,Intended design. Incorrect assumptions in this context,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127-L204,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127-L204,,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-219,Lack of Penalty Fees for Overdue Repayments Leads to Increased Liquidations and Financial Risks,,"more like feature improvement, relate to findings#108",Overdue loans are liquidable. That's the penalty,,,,"""""",,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-22,"The validation in `validateMinimumCredit` function is incorrect, which will result in  the credit amount after reduced below the minimum credit",,,Catchy (0 < 0) == false,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L17-L25,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L17-L25,""""""",,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-220,No storage gaps in `Size.sol`,,QA,Bot: [Low-7]	Upgradable contracts should have a __gap variable,,,,"""""",,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-221,Users will not be able to withdraw their USDC in some cases,,too strict CR affect withdraw,Intended and known issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-223,Borrowers can frontrun lenders to decrease apr and lenders can frontrun borrowers to increase apr.,,"frontrun protection, relate to validation#98",Intended design. Known Solidified issue 7,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L58,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditLimit.sol#L45""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L58,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditLimit.sol#L45""",,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-226,`liquidateWithReplacement` can be DoS by the borrower,,"temporary DOS liq, but when price drops fast, it could lead to loss",Intended design. Known Solidified issue 7.,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L72,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L72,,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-227,Attackers can frontrun forSale - false  and  allCreditPositionsForSaleDisabled - true  for a creditpositonid and buy the creditpositionid.,,forsale true,Intended design. Known Solidified issue 7,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,DUPE-LoanLibrary-001,DUPE-RiskLibrary-001,,,
Unsatisfactory,validation-230,"YieldCurve accepts negative apr inputs, which can lead to sell/buyCreditLimit orders being able to get listed but possibly never gonna get fulfilled",,,aprs are associated with type uint256 array,,,,"""""",,,DUPE-LoanLibrary-002,DUPE-RiskLibrary-002,,,
Unsatisfactory,validation-231,`executeSellCreditMarket` function allows transfer of credit positions to blacklisted addresses,,,Readme and commonly known issue,,,,"""""",,,DUPE-Math-001,DUPE-YieldCurveLibrary-001,,,
Unsatisfactory,validation-233,The variablePoolBorrowRateStaleRateInterval is lack of zero check which can lead to DOS,,,Low on zero value check,,,,"""""",,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-234,The ChainLink Oracle in `PriceFeed.sol` could return the wrong price since there are no min/max Circuit breaker checks. breaker checks,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-239,`Deposit#executeDeposit()` expects msg.value but is not marked as payable,,,It's marked payable in Size.col,,,,"""""",,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-24,`multicall `Function Fails to Reset `isMulticall` Flag on Delegatecall Failure,,isMulticall,No actual scenario given,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-240,Chainlink addresses/intervals should not be immutable,,hearbeat,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-241,Grace period time is too much for after the sequencer comes back up and allows for accumulation of bad debt,,,Low QA on protocol set variable,,,,"""""",,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-242,Users can front/backrun the updates to the variable rates and still have a relatively lower position for their borrows on the yield curve,,frontrun BorrowRate update,Intended design. Known Solidified issue 7. Infeasible in the context after all,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L120-L129,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L120-L129,,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-243,No slippage checks when withdrawing tokens from the variable pool,,slippage withdraw,Known readme issue,,,,"""""",,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-245,sellCreditMarket only checks openingLimitBorrowCR when opening a new position,,position on the edge of liq,Intended desighn. New lender need beware,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L197,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L197,,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-246,"Early repay may be front ran, by MEV for profit",,,Intended design. Known Solidified issue 7.,,,,"""""",,,DUPE-Multicall-001,DUPE-Multicall-002,,,
Unsatisfactory,validation-247,Bad tenor validation could lead to buy/sell position's credits at tenor below the limit,,"tenor range, relate to validation#522",Insufficient proof alleging the flaw while admins are trusted on updating new parameters,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L115,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L115,,,,,,,
Unsatisfactory,validation-248,The validateUserIsNotBelowOpeningLimitBorrowCR in withdraw can lead to DOS,,too strict CR affect withdraw,Intended and known issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,,DUPE-Repay-001,DUPE-Size-001,,,
Unsatisfactory,validation-25,"Gas Optimization, Code Readability and Documentation, Security Enhancements, Library Use, Explicit Visibility, Function Modifiers",,,Low QA,,,,"""""",,,DUPE-RiskLibrary-001,DUPE-Size-002,,,
Unsatisfactory,validation-250,The user can claim even if the leftover credit is lower than the minimumCreditBorrowAToken.,,,Catchy (0 < 0) == false,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L17-L25,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L17-L25,""""""",,,DUPE-RiskLibrary-001,DUPE-Size-002,,,
Unsatisfactory,validation-251,Lack of Slippage Protection in Limit Orders Allows for Unfavorable Deals via MEV,,slippage,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/OfferLibrary.sol#L8-L21,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/OfferLibrary.sol#L8-L21,,,,,,,
Unsatisfactory,validation-254,PriceFeed.sol Lacks Check for Min and Max Price Thresholds,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,DUPE-SellCreditMarket-001,DUPE-SellCreditMarket-005,,,
Unsatisfactory,validation-255,Malicious borrower can prevent liquidations,,,Intended design. Known Solidified issue 7,,,,"""""",,,,,,,
Unsatisfactory,validation-256,Unhandled Chainlink latestRoundData() revert can lock price oracle access in PriceFeed.sol,,oracle stale,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,,,,,,
Unsatisfactory,validation-259,Flawed liquidation reward calculation in `executeLiquidation` allows over-compensation of liquidators due to improper use of collateral value,,,18 decimal debtInCollateralToken NOT used,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,""""""",,,DUPE-SellCreditMarket-005,DUPE-SellCreditMarket-006,,,
Unsatisfactory,validation-26,Incorrect Calculation in amountToWad Function within the Math library,,,Inadequate coded POC alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-260,Insufficient validation of credit position transferability in `validateSellCreditMarket` leads to at-risk credit transfers and possible systemic risk,,,Intended design. Known Solidified issue 7,,,,"""""",,,DUPE-Size-001,DUPE-Size-004,DUPE-Size-006,,
Unsatisfactory,validation-263,Lenders calling buyCreditMarket can be front-run by borrowers due to lack of Non-Zero check on minAPR,,,Intended design. Known Solidified issue 7.,,,,"""""",,,,,,,
Unsatisfactory,validation-264,"Protocol Doesn't Implement Extra Reward Claiming from Aave, leading to a loss of yield",,"aave reward, seems QA",Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-266,Min/max answers from the chainlink aggregators are not checked,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-267,Borrower has no control over max loan amount,,no borrow upper limit,Inadequate coded POC alleging the flaw,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L182,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L159-L163""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L182,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L159-L163""",,,,,,,
Unsatisfactory,validation-269,[M-1] `Deposit::executeDeposit` uses `address(this).balance` which can lead to unintended financial operations,,address(this).balance,The user will be lucky with a foolish attacker then,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L71,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L71,,,,,,,
Unsatisfactory,validation-27,Reentrancy Vulnerability in multicall Function,,,No actual scenario given,,,,"""""",,,,,,,
Unsatisfactory,validation-270,[M-2] Missing Validation for `crOpening` and `crLiquidation` in `UpdateConfig::executeUpdateConfig` could lead to risky parameters,,"cr updating validation, relate to validation#421",Invalid assumptions and insufficient proof,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L87-L92,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Initialize.sol#L108-L110""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L87-L92,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Initialize.sol#L108-L110""",,,,,,,
Unsatisfactory,validation-271,Missing check on loan repayment resulting in free credits,,,Invalid assumptions,,,,"""""",,,,,,,
Unsatisfactory,validation-273,Divergent Handling of Borrowing vs. Loan Exits,,,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-274,Incorrect BorrowAToken Mint in Deposit Underlying,,,Inadequate coded POC alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-275,Binary Search Function Returns Incorrect Indices,Wrong order of arguments,,Devoid of coded POC alleging the claim,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Math.sol#L67,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Math.sol#L67,,,,,,,
Unsatisfactory,validation-276,Missing BorrowOffer Validation in LiquidateWithReplacement,,,Low on validation check,,,,"""""",,,,,,,
Unsatisfactory,validation-277,Inaccurate Minimum Profit Check in LiquidateWithReplacement,,,Fee should indeed be factored in pre-calculation,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L98-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L98-L115,""""""",,,,,,,
Unsatisfactory,validation-278,Executing nested `Multicall::multicall` functions as calldata to `Multicall::multicall` can lead to state inconsistencies and increase the risk of reentrancy attacks.,,isMulticall,No actual scenario given,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,,,,,,
Unsatisfactory,validation-279,Unbounded loop in `multicall` tolerates DoS attacks by exploiting excessive gas consumption,,,Low QA frequently reported by the bot,,,,"""""",,,,,,,
Unsatisfactory,validation-282,The use of `block.timestamp` in calculating tenors and deadlines can lead to MEV exploitation,,,Infeasible in POS,,,,"""""",,,,,,,
Unsatisfactory,validation-283,Incorrect Liquidation Ratio Validation Allows Setting Unsafe Liquidation Thresholds,,admin input validation,Invalid assumptions and insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-287,Insufficient check when updating crOpening,,"cr updating validation, relate to validation#421",Invalid assumptions and insufficient proof,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L87-L92,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Initialize.sol#L108-L110""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L87-L92,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Initialize.sol#L108-L110""",,,,,,,
Unsatisfactory,validation-289,It's possible to swap credit without payng fees,"QA at most, fees",,Low QA on dust amount entailed,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,,,,,
Unsatisfactory,validation-292,Borrower can set openingLimitBorrowCR to max to make BuyCreditMarket order always revert,,no loss,Intended design. Known Solidified issue 7,,,,"""""",,,,,,,
Unsatisfactory,validation-295,Arbitrary `from` passed to `transferFrom` (or `safeTransferFrom`) in DepositTokenLibrary.sol,,,[Low-20] Unsafe use of transfer()/transferFrom() with IERC20,,,,"""""",,,,,,,
Unsatisfactory,validation-296,depositing native eth and usdc in the same multicall will always revert,,,"Coded POC inadequate alleging the flaw. Also, not explaining why a neeed for depositing ETH and USDC in the same batch",,,,"""""",,,,,,,
Unsatisfactory,validation-299,Insufficient validation of APR in `executeSellCreditMarket` permits manipulation resulting in miscalculated cash amounts and fees,,,Intended design. Known Solidified issue 7,,,,"""""",,,,,,,
Unsatisfactory,validation-3,This function is marked as an initializer but is also declared as public,,,Bot: [Low-9]	Initializer function can be front run,,,,"""""",,,,,,,
Unsatisfactory,validation-30,Fixed hearbeat used for price validation is too stale for some tokens,,hearbeat,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-300,Impact of Loan Repayment Front-Running on Protocol Fees and Incentives (Overdue charges are not deduct when an overdue loan is repaid),,,Intended design. Known Solidified issue 7.,,,,"""""",,,,,,,
Unsatisfactory,validation-306,DoS in BuyCreditMarket() due to incorrect configuration of minimumCreditBorrowAToken,,minimumCreditBorrowAToken,Already commented as N/A,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L91-L93,,,,,,,
Unsatisfactory,validation-307,Multicall Failure Due to Concurrent Collateral and Borrow Token Deposits in `Size::deposit(),,,Intended design to prevent batching of ETH and USDC,,,,"""""",,,,,,,
Unsatisfactory,validation-31,`latestRoundData()` Call May Result Stale,,oracle stale,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,,,,,,
Unsatisfactory,validation-312,Inconsistent Debt Position State and Outdated Future Value Usage in Liquidation Replacement Process Could Lead To Bad Accounting,,,Devoid of coded POC to allege the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-313,Lack of maxDueDate in borrow offers/limit-orders,,,Informational on current design,,,,"""""",,,,,,,
Unsatisfactory,validation-314,Solidity version >= 0.8.20 will not work on Base due to PUSH0,,,Insufficient proof. It's Linea that's not ready. Base is fine,,,,"""""",,,,,,,
Unsatisfactory,validation-317,Liquidator minimum profit check can fail when liquidator fails to provide sufficient input,,user's own input,Low QA on user mistake,,,,"""""",,,,,,,
Unsatisfactory,validation-321,Lack of slippage control on minimum Borrow amount received can create undesirable debt positions for borrowers,,feature improvement slippage,Admins are trusted. Known readme issue,,,,"""""",,,,,,,
Unsatisfactory,validation-326,Hardcoding aave pool address is a serious aave integration flaw because valid pool addresses can change.,,hardcode aave addr,Similar to known readme on Chainlink configuration,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L86,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L86,,,,,,,
Unsatisfactory,validation-328,Loans are undervalued in `buyCreditMarket()` due to wrong rounding,"QA at most, fees","rounding direction, could be design choice",Low inconsequential,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,,,,,
Unsatisfactory,validation-330,"Absense of a minCredit amount in limit orders, could expose users to unfavourable or unprofitable matches",,feature improvement,Informational on current design,,,,"""""",,,,,,,
Unsatisfactory,validation-333,Malicious user can DoS other users' deposits,,"sandwich to grief, but seems no big loss",Intended design. Known Solidified issue 7. Infeasible in the context after all,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L80,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L80,,,,,,,
Unsatisfactory,validation-335,Unbounded return data in external calls of `DepositTokenLibrary.sol` of can lead to excessive gas consumption and DoS,,,Low QA frequently reported by the bot,,,,"""""",,,,,,,
Unsatisfactory,validation-34,State Inconsistency Due to Unhandled Revert in `multicall` Function,,isMulticall,No actual scenario given,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,,,,,,
Unsatisfactory,validation-341,Rounding on profitable liquidations beneffits the Liquidator at the expense of the Borrower and the Protocol,,rounding direction liq,Low and inconsequential,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,,,,,,
Unsatisfactory,validation-343,Price feed contract does not check for minAnswer and maxAnswer,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-344,Incorrect validation to determine if the liquidator receives the requested minimum profit for executing the validation.,,user's own input,Low QA on user mistake,,,,"""""",,,,,,,
Unsatisfactory,validation-346,Users can scam other users when they match their loan,,,Intended design. Known Solidified issue 7.,,,,"""""",,,,,,,
Unsatisfactory,validation-348,Rounding down when computing issuanceValue causes the new borrower to get less cash than what it would get for the same amount of Credit if his borrow offer would have been filled with a BuyCredit MarketOrder.,,rounding direction inconsistent liq replacement,Inconsequential low issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146,,,,,,,
Unsatisfactory,validation-349,CreditBuyers can bring down the CollateralRatio of CreditSellers by generating new loans instead of buying credit from an existing position the CreditSellers put on sale.,exit?,feature improvement,Insufficient proof alleging the flaw,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L197,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L197,,,,,,,
Unsatisfactory,validation-35,Missing check in `validateMinimumCreditOpening` function,,,Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-352,"In `validateCompensate` there is wrong check that can approve transaction that will make right users not able to compensate, some borrowers to exploit protocol or some lenders not to claim their credit at expected due date",,,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-355,Input validation of [repayAmount] in [repayDebt] function,,,Insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-356,Non-functional Borrowing Mechanism Leads to Debt Accrual Without Fund Transfer,,,Known readme issue on the current design,,,,"""""",,,,,,,
Unsatisfactory,validation-359,Lenders can be front-runned while disabling forSale flag for a credit position,intended,forsale true,Intended design. Known Solidified issue 7,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,,,,,
Unsatisfactory,validation-361,Minimum credit check can lead to sell credit market dos,,"admin change minimumCreditBorrowAToken, relate to validation#454, validation#522",Admins are trusted,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L93-L95,,,,,,,
Unsatisfactory,validation-362,Reentrancy Attack is possible.,,,CEI frequently reported by the bots,,,,"""""",,,,,,,
Unsatisfactory,validation-369,Ability to change the apr of the curve any time allow lenders and borrower to front run the actions.,,sandwich change apr,Intended design. Known Solidified issue 7.,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/token/NonTransferrableScaledToken.sol#L123-L124,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Repay.sol#L50-L51,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Claim.sol#L52-L56""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/token/NonTransferrableScaledToken.sol#L123-L124,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Repay.sol#L50-L51,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Claim.sol#L52-L56""",,,,,,,
Unsatisfactory,validation-370,"The `BuyCreditLimit::validateBuyCreditLimit` method incorrectly uses `minTenor` instead of `maxTenor`, potentially allowing `LoanOffer` creation that exceeds the maximum due date.",,maxduedate,Insufficient proof alleging the flaw,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,,,,,,
Unsatisfactory,validation-373,Centralization Risk in Role Management,,,Centralization should be addressed in QA,,,,"""""",,,,,,,
Unsatisfactory,validation-374,Report on `CreateInitCodeSizeLimit` Issue and Potential Optimizations for the Size Protocol,,,Low QA,,,,"""""",,,,,,,
Unsatisfactory,validation-379,Unauthorized access via `delegatecall` in `setUserConfiguration` allows malicious user configuration alterations and manipulation of credit position IDs on behalf of other users,,,creditPosition.lender != msg.sender in validateSetUserConfiguration will take care of it,,,,"""""",,,,,,,
Unsatisfactory,validation-381,Arbitrary debt forgiveness and unauthorized credit reduction exploit in `compensate` logic due to insufficient validation checks,,,Invalid assumptions and practically infeasible,,,,"""""",,,,,,,
Unsatisfactory,validation-383,Unchecked External Call in Multicall Function,,,Taken care of by OZ verifyCallResultFromTarget in Address.sol,,,,"""""",,,,,,,
Unsatisfactory,validation-384,No storage gap for upgradeable contracts,,QA,Bot: [Low-7]	Upgradable contracts should have a __gap variable,,,,"""""",,,,,,,
Unsatisfactory,validation-387,Incorrect credit decrement logic in compensation mechanism doesn't limit multiple debt reductions with single credit position,,,Invalid assumptions and practically infeasible,,,,"""""",,,,,,,
Unsatisfactory,validation-388,Users cant withdraw borrowATokens if they are under the opening collateral limit,,too strict CR affect withdraw,Intended and known issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,,,,,,
Unsatisfactory,validation-389,Malicious actors can do block stuffing and liquidate a debt to profit when repayment is close to the dueDate timestamp.,,"block stuffing to liquidate, but only if the user repay at last minute",Commonly known front-running issue,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L198-L201""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L198-L201""",,,,,,,
Unsatisfactory,validation-39,SizeStorage:Corruptible Upgradability Pattern in State structs,,,Bot: [Low-7] Upgradable contracts should have a __gap variable,,,,"""""",,,,,,,
Unsatisfactory,validation-393,Borrow offer can be used more than once to significantly decrease borrower collateral ratio,,,Intended design. Known Solidified issue 7. Infeasible in the context after all,,,,"""""",,,,,,,
Unsatisfactory,validation-394,manipulate rates of aave based rates,,,Insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-395,Insufficient validation of an Oracle data feed,,oracle stale,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,,,,,,
Unsatisfactory,validation-396,"`Deposit` function allows blacklisted addresses to receive tokens and open positions, bypassing underlying token restrictions",,,Readme and commonly known issue,,,,"""""",,,,,,,
Unsatisfactory,validation-397,Potential Violation of FEES_01 Invariant in getCashAmountOut() Function,no frag fee,,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""",,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L136,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L146""",,,,,,,
Unsatisfactory,validation-398,Lender can extract more collateral than owed in self-liquidation,,,Incorrect perceptions on the current design,,,,"""""",,,,,,,
Unsatisfactory,validation-399,Inconsistent collateral ratio check allows premature self-liquidation,,,Incorrect perceptions on the current design,,,,"""""",,,,,,,
Unsatisfactory,validation-4,lead to a front-running attack due to the state variable,,,Intended design. Known Solidified issue 7.,,,,"""""",,,,,,,
Unsatisfactory,validation-40,Incorrect Liquidation Logic Leading to Potential Financial Discrepancies and Unauthorized Access,,,Seemingly AI generated,,,,"""""",,,,,,,
Unsatisfactory,validation-400,Incorrect Credit Reduction in createCreditPosition() Leads to Protocol Insolvency,"QA at most, fees",,Invalid assumptions,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,,,,,
Unsatisfactory,validation-401,Violation of SOLVENCY_02 Invariant in createDebtAndCreditPositions() Function,,,Incorrect perceptions on the intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-402,Inconsistent Application of Fragmentation Fee in getCreditAmountOut() Function,"QA at most, fees",,fragmentationFee is paid by whoever causes the fragmentation,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L249,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L256""",,,,,,,
Unsatisfactory,validation-405,Lenders might capitalize on more borrow token that they're entitled to during significant liquidity index changes,,sandwich liquidityindex,Unatructured proof,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,,,,,,,
Unsatisfactory,validation-408,Arbitrary `from` passed to `transferFrom` (or `safeTransferFrom`) in Liquidate.sol,,,[Low-20] Unsafe use of transfer()/transferFrom() with IERC20,,,,"""""",,,,,,,
Unsatisfactory,validation-411,Findings Report for Self-Liquidation Vulnerability in SelfLiquidate.sol,,,Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-413,Credit seller(lender early exit) could be instead made to borrow unexpectedly due to offer being the same as borrower's offer.,,same struct order cause unexpected borrow,Intended design,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L177-L186,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L86-L88""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L177-L186,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L86-L88""",,,,,,,
Unsatisfactory,validation-421,Incomplete check to protect credit sellers in sellCreditMarket,,sell between lenders won't maintain APR range,Insufficient proof. Checks already well in place,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L116-L118,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L116-L118,,,,,,,
Unsatisfactory,validation-423,No check that the variable pool balance is greater than the amount of cash being transferred,,,Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-424,Unauthorized Token Transfer Risk in SellCreditMarket.sol,,,Bot: [Low-20] Unsafe use of transfer()/transferFrom() with IERC20,,,,"""""",,,,,,,
Unsatisfactory,validation-425,legitimate selfLiquidate can be stopped by users looking to earn liquidation profit,,,Incorrect assumptions and inadequate proof,,,,"""""",,,,,,,
Unsatisfactory,validation-427,H-3: Inability to Withdraw ETH in Size.sol,,,Withdrwal in WETH only,,,,"""""",,,,,,,
Unsatisfactory,validation-428,Inability to Withdraw ETH in Size.sol,,,Withdrwal in WETH only,,,,"""""",,,,,,,
Unsatisfactory,validation-429,Loss of funds for protocol as incorrect rounding is implemented,,rounding direction liq,Low and inconsequential,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,,,,,,
Unsatisfactory,validation-430,Liquidator can take away protocol's earn during liquidation with replacement borrower.,,liq choose arbitrary borrower,Size.sol#liquidateWithReplacement is protocol controlled,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L120-L164,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L120-L164,,,,,,,
Unsatisfactory,validation-433,Missing Return Statement in approve Function of NonTransferrableToken.sol,,,This function is not supported,,,,"""""",,,,,,,
Unsatisfactory,validation-434,Liquidation and Self-Liquidation functions could be paused by Owner and lead to user loss of funds if their collateral value is dropping within that period,Acceptable risk but should be noted regardless,,Known readme issue,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,,,,,,,
Unsatisfactory,validation-435,Centralization Risk for Trusted Owners in Size.sol,,,Centralization should be addressed in QA,,,,"""""",,,,,,,
Unsatisfactory,validation-436,Centralization Risk for trusted owners in NonTransferrableScaledToken.sol,,,Centralization should be addressed in QA,,,,"""""",,,,,,,
Unsatisfactory,validation-437,Centralization Risk for trusted owners in NonTransferrableToken.sol,,,Centralization should be addressed in QA,,,,"""""",,,,,,,
Unsatisfactory,validation-438,Overdue loans can't be partially repaid using `compensate`,,"allow partial repay for overdued loan, maybe by design",Intended design,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L51-L53,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L51-L53,,,,,,,
Unsatisfactory,validation-439,Users can not compensate with `creditPositionToCompensateId = RESERVED_ID` at the end of the loan,,expected behavior,Insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-441,Lenders must have valid BorrowOffer in order to sell their credit positions,,"same struct order cause unexpected borrow, maybe partial, POC not quite specific",Intended design,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L177-L186,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L86-L88""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L177-L186,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L86-L88""",,,,,,,
Unsatisfactory,validation-442,Using `ERC721::_mint()` can be dangerous in NonTransferrableToken.sol,,,Low QA frequently reported by the bots,,,,"""""",,,,,,,
Unsatisfactory,validation-444,Using ERC721::\_mint() Can Be Dangerous in NonTransferrableToken.sol,,,Low QA frequently reported by the bots,,,,"""""",,,,,,,
Unsatisfactory,validation-446,A malicious borrower user can cause loss of funds for lender,,,Low spamming and incorrect perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-448,Updating `crOpening` can block existing users from withdrawing,,"cr updating validation, relate to validation#421",Invalid assumptions and insufficient proof,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L87-L92,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Initialize.sol#L108-L110""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L87-L92,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Initialize.sol#L108-L110""",,,,,,,
Unsatisfactory,validation-452,Lender/SelfLiquidator receives less collateral from borrower than expected.,,,Low inconsequential on flooring,,,,"""""",,,,,,,
Unsatisfactory,validation-454,Updated tenor range is not being used to validate before creating new credit-debt Position. - Buy/SellCreditMarketOrder and Compensate,,"tenor range, relate to validation#522",Insufficient proof alleging the flaw while admins are trusted on updating new parameters,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L115,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L51-L115,,,,,,,
Unsatisfactory,validation-455,Lender is not allowed to take calculated Risk to avoid a huge selfLiquidation Loss - Buy/SellCreditMarketOrder,,no significant loss,Inadequate proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-457,Grief the Protocol by filling all the debtPosition and creditPosition slots available without  facing any loss to the attacker - Compensate.sol,,fragmentation gas DOS liq,Low QA on spamming. POC lacks proof,,https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/Compensate.sol#L105-L173,,https://github.com/code-423n4/size-solidity/blob/main/src/libraries/actions/Compensate.sol#L105-L173,,,,,,,
Unsatisfactory,validation-458,Volatile cap on borrowOffers can lead to borrowers incurring more debt than expected,restrained by approval?,,Intended design. Known Solidified issue 7. Infeasible in the context after all,,,,"""""",,,,,,,
Unsatisfactory,validation-459,Liquidator will be grieved if he provides minimumCollateralProfit as 0.,,user's own input,Low QA on user mistake,,,,"""""",,,,,,,
Unsatisfactory,validation-460,MaxDueDate of the LoanOffer is not checked while an existing creditPosition is bought-  BuyCreditMarket,,maxduedate,Low QA on user input mistake,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,,,,,,
Unsatisfactory,validation-463,Borrower can take the accrued Interest from the AAVE pool which is deserved by the thelender.,,,Lender will assuredly received accrued interest when withdrawing,,,,"""""",,,,,,,
Unsatisfactory,validation-464,`liquidate()` doesn't have a deadline parameter makes it susceptible to MEV manipulation,,no loss,Known readme issue,,,,"""""",,,,,,,
Unsatisfactory,validation-465,DOS of  liquidateWithReplacement becuase issuance value might round to zero due to low apr and low tenor,,liq profit rounding to 0,Low QA on protocol called function,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146-L148,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L146-L148,,,,,,,
Unsatisfactory,validation-467,Setting `baseStalePriceInterval` and `quoteStalePriceInterval` as immutable possesses a risk,,hearbeat,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-47,DoS on market order with `creditPositionId != RESERVED_ID` by front-run compensating the credit position with `creditPositionToCompensateId = RESERVED_ID` and `amount = type(uint256).max`,DoS via compensate of full position + 0,,Intended design. Known Solidified issue 7. Infeasible in the context after all,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L56-L63,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L56-L63,,,,,,,
Unsatisfactory,validation-471,"Attackers can steal repaid funds, by manipulating the ""liquidityIndex"".",unsat?,sandwich liquidityindex,Sporadic and inadequate coded proof that has no practical mitigation on protocol design,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,,,,,,,
Unsatisfactory,validation-472,Usage of an incorrect version of Ownable library,,,Bot: [NonCritical-83] Consider using the Upgradeable version of the OpenZeppelin libraries/contracts,,,,"""""",,,,,,,
Unsatisfactory,validation-474,Malicious lender can take over other lender's position,,forsale true,Intended design. Known Solidified issue 7.,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,,,,,
Unsatisfactory,validation-476,`_getPrice()` doesn’t check for the `min`/`max` prices returned,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-477,Every borrower in Size can block the keeper from choosing them as a replacement borrower,,expected behavior,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-481,An attacker can force a sellCreditMarket/buyCreditMarket call to match with a non-optimal offer by front-running the victim,,frontrun to change apr,Intended design. Known Solidified issue 7.,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L57,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L29""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L57,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L29""",,,,,,,
Unsatisfactory,validation-486,Insufficient Repayment Handling in repayDebt Function,,,Incorrect perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-487,the user can be frontrunned and forcefully liquidated,Acceptable risk but should be noted regardless,,Intended design. Known Solidified issue 7,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L104-L115,,,,,,,
Unsatisfactory,validation-488,Lenders can steal money from borrowers when market conditions are very volatile.,,expected behavior,Intended design. Known Solidified issue 7.,,,,"""""",,,,,,,
Unsatisfactory,validation-489,aave pool not integrated correctly,,hardcode aave addr,Similar to known readme on Chainlink configuration,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L86,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L86,,,,,,,
Unsatisfactory,validation-49,"This vulnerability can lead to unauthorized configuration changes, potentially resulting in significant security and operational risks.",,,creditPosition.lender != msg.sender in validateSetUserConfiguration will take care of it,,,,"""""",,,,,,,
Unsatisfactory,validation-490,anyone can compensate with different token,,,Invalid assumptions and insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-491,anyone can repay with a different token,,,Invalid assumptions and insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-492,Borrower can make liquidation unprofitable for legitimate loans,,future value is not accurate,Invalid assumptions and insufficient proof,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,,,,,,,
Unsatisfactory,validation-493,Borrower can make liquidation unprofitable for legitimate loans,,future value is not accurate,Invalid assumptions and insufficient proof,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,,,,,,,
Unsatisfactory,validation-495,repay does not transfer excess,,,Will revert and be circumvented by debtPosition.futureValue -= repayAmount in AccountingLibrary.sol,,,,"""""",,,,,,,
Unsatisfactory,validation-496,Incorrect Compensate Event Emission,"QA, event",QA,Low QA,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L107-L109,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L107-L109,,,,,,,
Unsatisfactory,validation-498,Inability to Compensate Positions with Less Than 1 Hour Remaining,,,Intended design of compensate(),,,,"""""",,,,,,,
Unsatisfactory,validation-499,Inability to Compensate Positions with Less Than 1 Hour Remaining,,,Intended design of compensate(),,,,"""""",,,,,,,
Unsatisfactory,validation-5,The withdraw function in the provided code demonstrates the vulnerability,,,Inadequate proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-50,Inconsistent State and Loss of Funds Due to Missing Token Transfer Logic in `buyCreditMarket` Function,,,Incorrect perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-500,Inability to Compensate Positions with Less Than 1 Hour Remaining,,design choice,Intended design of compensate(),,,,"""""",,,,,,,
Unsatisfactory,validation-501,Borrower can make liquidation unprofitable for legitimate loans,,future value is not accurate,Invalid assumptions and insufficient proof,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,,,,,,,
Unsatisfactory,validation-502,Borrower can make liquidation unprofitable for legitimate loans,,future value is not accurate,Invalid assumptions and insufficient proof,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L148-L161,,,,,,,
Unsatisfactory,validation-503,Ordinary liquidations can become unprofitable as expiration time cannot be set,,"time sensitive liq, but maybe feature improvement",Known readme issue,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L37-L54,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L18-L23""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L37-L54,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L18-L23""",,,,,,,
Unsatisfactory,validation-508,isMultiCall boolean value can be easily manipulated,"while correct, lack of multicall is a negative outcome",isMulticall,No actual scenario given,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,,,,,,
Unsatisfactory,validation-509,Chainlink flash crash price,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-51,Unrestricted Borrowed Amount Transfer Vulnerability in sellCreditMarket Function,,,Devoid of coded POC alleging the claim,,,,"""""",,,,,,,
Unsatisfactory,validation-510,"The accidental input of `state.data.underlyingBorrowToken.decimals()` instead of `state.data.underlyingCollateralToken.decimals()` in the `AccountingLibrary::debtTokenAmountToCollateralTokenAmount` function leads to unprofitable liquidations being mistakenly counted as profitable, causing the protocol to charge fees incorrectly and disrupting the liquidation process.",,,Insufficient proof (lacking coded POC) alleging the flaw,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L31,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L31,,,,,,,
Unsatisfactory,validation-511,`LiquidateWithReplacement` function allows USDC blacklisted addresses to circumvent token-level restrictions through the Size protocol,,,Readme and commonly known issue,,,,"""""",,,,,,,
Unsatisfactory,validation-513,"The borrowAToken's scaling mechanism in `NonTransferrableScaledToken::transferFrom` by the LiquidityIndex through `getReserveNormalizedIncome`, introduces variability in token values via division or multiplication of the liquidity index, potentially affecting yield calculations within protocols.",,,Unatructured proof,,,,"""""",,,,,,,
Unsatisfactory,validation-515,Inability to Update Aave Variable Pool Address in Configuration Update Function,,hardcode aave addr,Similar to known readme on Chainlink configuration,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L86,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L86,,,,,,,
Unsatisfactory,validation-516,H-01 buyCreditMarket() results in a lender losing funds due to buying a portion of a small credit,,"slippage protection is needed, small loan suffer from fees",Inadequate coded POC alleging the flaw,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L156-L177,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L274-L301""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L156-L177,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L274-L301""",,,,,,,
Unsatisfactory,validation-52,Unvalidated Tenor Parameter Vulnerability in `getBorrowOfferAPR` and `getLoanOfferAPR`,,,Low QA on zero value check,,,,"""""",,,,,,,
Unsatisfactory,validation-525,Overdue or underwater positions may become unliquidatable if there are not enough borrowATokens to repay lenders.,,paused cannot repay,Known readme issue,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L113,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L135-L136""",,,,,,,
Unsatisfactory,validation-526,limit order might be filled with undesired apr,,feature improvement,Incorrect perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-527,borrowers can't use some credit positions to compensate their debt positions,,minmumCollateral affects compensate,Impractical proof on an intended design,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L132-L134,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L132-L134,,,,,,,
Unsatisfactory,validation-528,Certain configurations of liquidationRewardPercent could disincentivize liquidators,,expected behavior,Low QA on trusted admin parameter control,,,,"""""",,,,,,,
Unsatisfactory,validation-529,ETH collateral depositers will lose funds in the depegged event of weth,,,Known readme issue,,,,"""""",,,,,,,
Unsatisfactory,validation-53,Inaccurate Collateral Token Amount Calculation Due to Unaccounted Decimal Difference in `debtTokenAmountToCollateralTokenAmount`,,,Insufficient proof (lacking coded POC) alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-530,Manipulation of collateral ratios in `SelfLiquidate` via precision and timing exploits leading to unjust collateral extraction,,,Incorrect perceptions on the current design,,,,"""""",,,,,,,
Unsatisfactory,validation-532,APR Calculation is Favoring the Borrower Instead of the Lender,,no impact description,Inconsequential low issue,,,,"""""",,,,,,,
Unsatisfactory,validation-533,Protocol Profits Should Round in Favor of the Protocol and Not the Liquidated Borrower,,rounding direction liq,Low and inconsequential,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/LoanLibrary.sol#L157,,,,,,,
Unsatisfactory,validation-534,"Users Can Place Offers That Are Never Collateralized, Leading to Many Dirty Orders in the Order Book",,feature improvement,Low QA on spamming,,,,"""""",,,,,,,
Unsatisfactory,validation-535,"Loan and Borrow Offers Are Not Being Reset After the User Deposit Has Been Used, Leaving Stale Orders on the Order Book.",,feature improvement,Inadequate coded POC alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-536,"When both `low` and `high` are large enough value, overflow will occur",,,Low QA reported by bot,,,,"""""",,,,,,,
Unsatisfactory,validation-539,The price in `PriceFeed::_getPrice` is not checked if it is between the min and max price,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-54,Unchecked Repayment Amount Leads to Underflow Vulnerability in `repayDebt`,,,It's being circumvented at (repayAmount > debtPosition.futureValue),,,,"""""",,,,,,,
Unsatisfactory,validation-541,Lenders are not getting interest from AAVE when claiming,,"seems misunderstanding, when the loan is borrowed, it is no longer at AAVE",They will be when withdrawing,,,,"""""",,,,,,,
Unsatisfactory,validation-545,DoS when trying to access the newly created debit & credit position,,,Devoid of coded POC to allege the exploit,,,,"""""",,,,,,,
Unsatisfactory,validation-548,"`SellCreditLimit` function allows blacklisted addresses to create borrow offers, bypassing USDC restrictions",,,Readme and commonly known issue,,,,"""""",,,,,,,
Unsatisfactory,validation-549,The `YEAR` is constant in `Math` contract and its value is 365 days which is not always correct,,,Low inconsequential,,,,"""""",,,,,,,
Unsatisfactory,validation-55,Inconsistent Total Debt Accounting Due to Missing Update in `createDebtAndCreditPositions`,,,Incorrect perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-552,It doesn't validate `variablePoolBorrowRateStaleRateInterval` when `Size#updateConfig()` is called to update `variablePoolBorrowRateStaleRateInterval`,,,Low on zero value check,,,,"""""",,,,,,,
Unsatisfactory,validation-553,A lender can Bypassing the validateUserIsNotBelowOpeningLimitBorrowCR  Check in BuyCreditMarket there breaking a main invariant,,,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-56,Missing Update in `createCreditPosition` Function Leads to Inconsistent Credit Position Tracking.,,,Inadequate coded POC alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-563,Frontrunning risk for `setUserConfiguration` function for very profitable CreditPositions,,forsale true,Intended design. Known Solidified issue 7,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,,,,,
Unsatisfactory,validation-569,`liquidatorProfitBorrowToken` send to wrong address,,,Insufficient proof,,,,"""""",,,,,,,
Unsatisfactory,validation-571,Lack of function `claimReward()` to claim reward,,"aave reward, seems QA",Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-572,Lenders can set extremely high interest rate on loans.,,,No borrower would bite on it then,,,,"""""",,,,,,,
Unsatisfactory,validation-573,Potential DOS for buy credit market and sell credit market,,,Low on zero value check,,,,"""""",,,,,,,
Unsatisfactory,validation-575,minTenor check in validateCompensate() will DOS loan compensation,,expected behavior,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-579,"Credit positions can be bought instantly, which may lead to lenders losing funds",,forsale true,Intended design,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,,,,,
Unsatisfactory,validation-581,Chainlink's `latestRoundData` Might Return Stale Results,,oracle stale,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,,,,,,
Unsatisfactory,validation-583,A Lenders address can be matched against his borrow offer in the Liquidated with Replacement Function thereby leading to loss of funds by the lender.,,expected behavior,Devoid of coded POC to allege the flaw,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L47-L112,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L47-L112,,,,,,,
Unsatisfactory,validation-586,"Some liquidations are not properly incentivized due to gas prices exceeding liquidation rewards, especially on Ethereum mainnet",,QA,Low QA and informational,,,,"""""",,,,,,,
Unsatisfactory,validation-587,Inaccurate Liquidatability Assessment Due to Omission of Protocol Fees,,no significant loss,Fee should indeed be factored in pre-calculation,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L98-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L98-L115,""""""",,,,,,,
Unsatisfactory,validation-59,Incorrect Variable Name in Error Message of `validateBorrowATokenIncreaseLteDebtTokenDecrease` Function Leads to Confusion,,,Low informational/QA,,,,"""""",,,,,,,
Unsatisfactory,validation-590,Users Can Steal ETH Balance with Minimum Investment,,address(this).balance,The user will be lucky with a foolish attacker then,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L71,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L71,,,,,,,
Unsatisfactory,validation-595,"Incomplete validation check in the [Claim::executeClaim], a lender can claim a token before its duedate of repayment without the borrower acknowledgement/approval",,,Inadequate proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-596,Malicious user can DoS every deposit of ```USDC``` at no cost by sandwiching it to not passing ```validateBorrowATokenCap``` check.,,"sandwich to grief, but seems no big loss",Intended design. Known Solidified issue 7. Infeasible in the context after all,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L80,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Deposit.sol#L80,,,,,,,
Unsatisfactory,validation-6,gasPrice,,,Low QA on user input mistake,,,,"""""",,,,,,,
Unsatisfactory,validation-60,Unchecked Debt Position ID in `getDebtPositionByCreditPositionId` Function Leads to Potential Revert,,,Inadequate proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-600,Missing check for zero value of msg.value can cause a DoS attack on the deposit function,,,(params.amount == 0) will make a revert,,,,"""""",,,,,,,
Unsatisfactory,validation-602,Users can not withdraw and use their borrowed USDC tokens if their collateral ratio is below openingLimitBorrow CR,,too strict CR affect withdraw,Intended and known issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,,,,,,
Unsatisfactory,validation-603,Users can not delete a BorrowOffer while the protocol is paused leading to an unwanted loans when the protocol continues operating which he will have to pay fees for.,,paused cannot delete order,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L166-L172,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L166-L172,,,,,,,
Unsatisfactory,validation-609,Liquidate doesn't always increase the sender collaterals as per LIQUIDATE_01 invariant,technicality,"partial liquidation, relate to validation#315","Invalid assumptions. Self liquidation concerns the lender, NOT the borrower",,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L220,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L220,,,,,,,
Unsatisfactory,validation-61,Unhandled Invalid Position ID in getLoanStatus Function Causes Revert,,,Inadequate proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-610,Malicious lenders can create buy credit limit orders without depositing any tokens into the protocol.,,,Coded POC inadequate alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-613,Impact of Variable Pool (Aave v3) Failures on Size Protocol's Liquidation Process,,,Known readme issue,,,,"""""",,,,,,,
Unsatisfactory,validation-614,The input parameter `_data` in `Size::multicall` is not checked and can be malicious,,,Inconsequential on user controlled calls,,,,"""""",,,,,,,
Unsatisfactory,validation-615,`Multicall` Out-of-Gas Exploitation Enables Front-Running Attacks on Critical Protocol Functions and Can Cause Loss Of Funds,,,Low QA frequently reported by the bot,,,,"""""",,,,,,,
Unsatisfactory,validation-616,Mishandling of ETH in the [Liquidate::executeLiquidateWithReplacement] can lead to accounting error and siphoning of fund by malicious user,,,Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-617,Potential APR Manipulation and Variability Issues in `BuyCreditMarket` function,,need apr cap,Intended design. Known Solidified issue 7,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L101,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L101,,,,,,,
Unsatisfactory,validation-618,Anyone can call `DepositTokenLibrary::withdrawUnderlyingCollateralToken` and `DepositTokenLibrary::withdrawUnderlyingTokenFromVariablePool` functions with arbitrary input parameters,,,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-619,Liquidation with Replacement Transfers All the liquidatorProfitBorrowToken to the Protocol's Fee Collector without Forwarding the Liquidator(KEEPER ROLE) and Liquidated User a share of the BorrowAtokenprofit,,,Low QA on protocol controlled function,,,,"""""",,,,,,,
Unsatisfactory,validation-62,Inaccurate Collateral Assignment in `getDebtPositionAssignedCollateral` Function for Borrowers with Multiple `DebtPositions`,,,Incorrect assumptions,,,,"""""",,,,,,,
Unsatisfactory,validation-620,Post-execution validations in `size.buyCreditMarket()` could lead to DoS/State-Inconsistencies,,,Low QA on current design,,,,"""""",,,,,,,
Unsatisfactory,validation-621,Loss of Fund Value when User Deposit in the Size Contract,,,The user will be lucky with a foolish attacker then (It will be more than msg.value),,,,"""""",,,,,,,
Unsatisfactory,validation-624,Clash of MultiCall Calls Due to Incomplete Validation,,isMulticall,No actual scenario given,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/Multicall.sol#L27,,,,,,,
Unsatisfactory,validation-625,Chainlink price feed will return the wrong price for USDC if underlying aggregator hits minAnswer,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-626,Risk can be transferred forcefully to unwilling risk takers(borrowers who wants USDC).,,paused cannot withdraw,Intended design. Known Solidified issue 7. Infeasible in the context after all,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L178-L195,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L178-L195,,,,,,,
Unsatisfactory,validation-627,"The decimals precision of the `priceFeed` is not handled in `collateralRatio()`, leading to potential wrong valuation ",,"oracle decimal, seems wrong, need to double check the math",Insufficient proof (lacking coded POC) alleging the flaw,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L53-L64,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L53-L64,,,,,,,
Unsatisfactory,validation-628,Lack of Slippage Protection in `size.buyCreditMarket()` and `size.sellCreditMarket()`,,slippage,Known readme issue,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L121,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L121,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127""",,,,,,,
Unsatisfactory,validation-630,`isDebtPositionLiquidatable` doesn't account for fees,,no significant loss,Fee should indeed be factored in pre-calculation,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L98-L115,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L98-L115,""""""",,,,,,,
Unsatisfactory,validation-631,Borrow Token Withdrawals Blocked Due to Incorrect Opening Collateral Ratio Check,,too strict CR affect withdraw,Intended and known issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,,,,,,
Unsatisfactory,validation-632,Credit Amount Can be Reduced Below The Minimum Credit Value,,,Catchy (0 < 0) == false,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L17-L25,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L17-L25,""""""",,,,,,,
Unsatisfactory,validation-633,Possible Re-Entrancy in `repay::executearepay` leading to exploitable cases by a malicious user,,,Low CEI frequently reported by the bots. Invalid assumtions too,,,,"""""",,,,,,,
Unsatisfactory,validation-634,Possible Re-Entrancy in `repay::executearepay` leading to exploitable cases by a malicious user,,,Low CEI frequently reported by the bots. Invalid assumtions too,,,,"""""",,,,,,,
Unsatisfactory,validation-635,Invalid validation in `UpdateConfig.sol` prevents the swap fee apr from being more than the minimum,,maxTenor or minTenor,Low QA on protocol controlled function,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L119,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/UpdateConfig.sol#L119,,,,,,,
Unsatisfactory,validation-639,Withdrawal can fail even if user is not underwater,,too strict CR affect withdraw,Intended and known issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,,,,,,
Unsatisfactory,validation-64,Reentrancy Vulnerability in executeLiquidateWithReplacement Function,,,Inadequate coded POC to allege the exploit,,,,"""""",,,,,,,
Unsatisfactory,validation-641,Inadequate liquidation logic in `multicall` facilitates strategic abuse throughout bypass of liquidation checks in batched operations,,,Impractical proof on an intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-644,Incorrect Credit Position Update in `CreateCreditPosition` Function,,"feature improvement, extra validation, but users can do themselves",Invalid assumptions on an intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-645,Incorrect Validation of BuyCreditMarket,,,Inadequate coded POC alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-646,Missing Validation for `maxDueDate` Exceeding Maximum Tenor in `BuyCreditLimit` Library,,maxduedate,Low QA on user input mistake,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,,,,,,
Unsatisfactory,validation-647,Lack of circuit-breaker check in `PriceFeed.sol`,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-648,`maxDueDate` is not checked against the `block.timestamp + state.riskConfig.maxTenor` value,,maxduedate,Low QA on user input mistake,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditLimit.sol#L42,,,,,,,
Unsatisfactory,validation-651,Oracle will return wrong price if price goes out of chainlink's minanswer/maxanswer,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-652,Inability to Compensate Debt with Credit of Equal Due Date,,no significant loss,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-654,Persistent Zero Profit for Protocol in Liquidation Events under Specific Market Conditions,,,18 decimal debtInCollateralToken NOT used,,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Liquidate.sol#L96-L99,""""""",,,,,,,
Unsatisfactory,validation-655,The [selfLiquidate::executeSelfLiquidate] is missing a step to account for transferring collateral to the lender and any other entity after self Liquidation,,,Incorrect assumptions and inadequate proof,,,,"""""",,,,,,,
Unsatisfactory,validation-656,Debt Token Repayment Mechanism Allows Users to Exploit USDC Depreciation,,,Commonly known issue in front-running,,,,"""""",,,,,,,
Unsatisfactory,validation-658,"`borrowOffer` can be replaced by calling `sellCreditLimit`, so that `buyCreditMarket` and `LiquidateWithReplacement` can be bypassed.",,"temporary DOS liq, but when price drops fast, it could lead to loss",Intended design. Known Solidified issue 7. Infeasible in the context after all,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditLimit.sol#L45,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L72-L74""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditLimit.sol#L45,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/LiquidateWithReplacement.sol#L72-L74""",,,,,,,
Unsatisfactory,validation-662,`NonTransferrableScaledToken` uses wrong unscaled calculation.,inverse scaling system?,,Unatructured proof,https://github.com/code-423n4/2024-06-size/blob/main/src/token/NonTransferrableScaledToken.sol#L94-L100,,,https://github.com/code-423n4/2024-06-size/blob/main/src/token/NonTransferrableScaledToken.sol#L94-L100,,,,,,,
Unsatisfactory,validation-663,Inconsistent ETH Balance Handling in Multicall Deposits,,bot report,Inadequate proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-666,Incorrect ETH Deposit Amount Calculation in Deposit Library,,bot report,The user will be lucky with a foolish attacker then,,,,"""""",,,,,,,
Unsatisfactory,validation-667,Round Completeness Check Omission in PriceFeed Contract,,oracle stale,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/Compensate.sol#L64-L89,,,,,,,
Unsatisfactory,validation-668,Unchecked Maximum Slippage in Liquidation Exposes Protocol to Market Manipulation and Disproportionate Gains for Whales,,,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-669,Lack of Slippage Protection in Deposit Functions,,slippage deposit,Known readme issue,,,,"""""",,,,,,,
Unsatisfactory,validation-670,Insufficient ETH handling in `executeDeposit` Function,,bot report,The user will be lucky with a foolish attacker then,,,,"""""",,,,,,,
Unsatisfactory,validation-671,PriceFeed contract fails to handle Chainlink aggregator minAnswer/maxAnswer thresholds,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-672,No storage gaps in `SizeView.sol`,,QA,Bot: [Low-7]	Upgradable contracts should have a __gap variable,,,,"""""",,,,,,,
Unsatisfactory,validation-674,Insufficient Handling of Deviation Threshold for ETH/USD Price Feed on BASE L2,,,Known readme issue,,,,"""""",,,,,,,
Unsatisfactory,validation-675,Potential Misconfiguration of PriceFeed Contract on BASE Mainnet L2,,hearbeat,Known readme issue,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-676,Incorrect APR Calculation for Exact Tenor Matches in Yield Curve Interpolation,,,Insufficient proof (lacking coded POC) alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-677,Delegatecall Vulnerability in Multicall Implementation,,,OZ Address will take care of it,,,,"""""",,,,,,,
Unsatisfactory,validation-678,No Storage Gap for Upgradeable Contract Might Lead to Storage Slot Collision,,QA,Bot: [Low-7]	Upgradable contracts should have a __gap variable,,,,"""""",,,,,,,
Unsatisfactory,validation-679,borrowers face a loss when selling or buying credit by market,,inconsistent fee cash/credit amount in/out,fragmentationFee is paid by whoever causes the fragmentation,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-329,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L185-329,,,,,,,
Unsatisfactory,validation-68,Current design of the system makes it very hard for certain users to not get fragmented,,"feature improvement, no big loss",buy/sell 100% of positions to avoid fragmentationFee not always possible,,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L175""","""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L162,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L175,""""""",,,,,,,
Unsatisfactory,validation-680,Precision Loss in Scaled Token Burns Due to Incorrect Rounding,,,Low inconsequential,https://github.com/code-423n4/2024-06-size/blob/main/src/token/NonTransferrableScaledToken.sol#L77,,,https://github.com/code-423n4/2024-06-size/blob/main/src/token/NonTransferrableScaledToken.sol#L77,,,,,,,
Unsatisfactory,validation-682,Reorg Vulnerability in Contract Initialization Process,,,Low QA,,,,"""""",,,,,,,
Unsatisfactory,validation-683,Lack of slippage control in market operations,,slippage,Known readme issue,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L121,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L121,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/SellCreditMarket.sol#L127""",,,,,,,
Unsatisfactory,validation-685,Whales can force overDue liquidation via block stuffing,,,Intended design. Known Solidified issue 7,,,,"""""",,,,,,,
Unsatisfactory,validation-689,Vulnerabilities in Borrowing Mechanism Due to Limit Orders Not Cleared When Borrower Reaches Max Borrow Limit,,,Intended design. Known Solidified issue 7. Infeasible in the context after all,,,,"""""",,,,,,,
Unsatisfactory,validation-690,DOS possible when selling credit through market,,"< or <=, but seems no big loss",Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-691,lender can not liquidate self even though loan is overdue unless borrower's debt position is not underwater.,,"cannot self liq if overdue, maybe by design",Intended design,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L80-L81,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/RiskLibrary.sol#L80-L81,,,,,,,
Unsatisfactory,validation-692,Loan limit check logic loophole leads to loan limit exceeding problem,,,Low inconsequential,,,,"""""",,,,,,,
Unsatisfactory,validation-693,Inflexibility in Adjusting `crLiquidation` Value in Smart Contract Settings,,design choice,Low QA on protocol controlled function,,,,"""""",,,,,,,
Unsatisfactory,validation-696,Missing Access Control,,,Infeasible per the described POC,,,,"""""",,,,,,,
Unsatisfactory,validation-697,`Size.buyCreditMarket(BuyCreditMarketParams)` race condition can force many transaction to revert in normal circumstances,,slippage buy,Intended design. Known Solidified issue 7. Infeasible in the context after all,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L182,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L182,,,,,,,
Unsatisfactory,validation-7,The smart contract's withdraw function is vulnerable to a reentrancy attack,,,CEI well in place in DepositTokenLibrary.sol,,,,"""""",,,,,,,
Unsatisfactory,validation-700,Insufficient validation before state change,,,Intended design,,,,"""""",,,,,,,
Unsatisfactory,validation-705,Rounding issue in `getCreditPositionProRataAssignedCollateral` calculation.,,no significant loss,Low inconsequential,,,,"""""",,,,,,,
Unsatisfactory,validation-706,"`YieldCurveLibrary.getAPR` rounds in different directions, returning unexpected results",,,Low and inconsequential,,,,"""""",,,,,,,
Unsatisfactory,validation-708,Any existing loan can be bought by anyone,immediate for sale exploit,forsale true,Intended design. Known Solidified issue 7,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L81,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L119""",,,,,,,
Unsatisfactory,validation-709,PriceOracle will use the wrong price if the Chainlink registry returns price outside min/max range.,,oracle minAnswer,No longer needed per Chainlink,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,https://github.com/code-423n4/2024-06-size/blob/main/src/oracle/PriceFeed.sol#L84-L94,,,,,,,
Unsatisfactory,validation-712,The Market Maker does not pay the `swapFee` and it is the taker who pays the `swapFee` in the `executeBuyCreditMarket` function,,"buyer should pay swap fee, more like design choice",Intended design,,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L195-L196,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L294-L296""",,"""https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/actions/BuyCreditMarket.sol#L195-L196,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/AccountingLibrary.sol#L294-L296""",,,,,,,
Unsatisfactory,validation-714,`Size.sellCreditMarket(SellCreditMarketParams)` race condition can force many transaction to revert in normal circumstances,,slippage sell,Intended design. Known Solidified issue 7. Infeasible in the context after all,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L190,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L190,,,,,,,
Unsatisfactory,validation-716,reentrancy in accountinglibrary.sol,,,Low CEI frequently reported by the bots. Invalid assumtions too,,,,"""""",,,,,,,
Unsatisfactory,validation-717,Insufficient access control on Default admin which can compromise the protocol,,,"_grantRole(DEFAULT_ADMIN_ROLE, owner) will take care of it",,,,"""""",,,,,,,
Unsatisfactory,validation-718,Liquidators can be front-runned,,expected behavior,Intended design. Known Solidified issue 7,,,,"""""",,,,,,,
Unsatisfactory,validation-72,ISizeAdmin contract imported but not inherited.,,,Won't compile if there's any error,,,,"""""",,,,,,,
Unsatisfactory,validation-721,Withdraw can be DoSed by an attacker sending debt tokens to user's address,debt not transferrable?,nontransferrable,Intended and known issue,,,,"""""",,,,,,,
Unsatisfactory,validation-725,Lenders can claim far more tokens,,sandwich liquidityindex,Unatructured proof,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,,https://github.com/code-423n4/2024-06-size/blob/main/src/libraries/CapsLibrary.sol#L67-L72,,,,,,,
Unsatisfactory,validation-729,Malicious actor can enforce liquidation to a user,,,Commonly known and infeasible issue in this context. POC lacks proof,,,,"""""",,,,,,,
Unsatisfactory,validation-73,Incorrect `withdrawUnderlyingTokenFromVariablePool` Implementation,,,CEI frequently reported by the bots,,,,"""""",,,,,,,
Unsatisfactory,validation-74,Re-Entrancy Vulnerability in repayDebt Function,,,Low CEI frequently reported by the bots. Invalid assumtions too,,,,"""""",,,,,,,
Unsatisfactory,validation-75,Insufficient Validation in Liquidation Function Leading to Potential Fund Loss,,,Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-76,Liquidators have the choice to liquidate a different amount of positions under the same circumstances,,"liq mechanism, relate to validation#201, validation#358",Sporadic proof that has no practical mitigation on protocol design,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L220,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L210-L220,,,,,,,
Unsatisfactory,validation-77,Vulnerabilities in `executeDeposit` Function Endanger Deposit Process,,,Insufficient proof alleging the flaw,,,,"""""",,,,,,,
Unsatisfactory,validation-79,"Invalid CR validation in `Size::compensate`, blocking users from compensating their loans",,too strict CR affect compensate,Violating intended invariant check,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L250,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L250,,,,,,,
Unsatisfactory,validation-8,A reentrancy attack on the withdraw,,,CEI well in place in DepositTokenLibrary.sol,,,,"""""",,,,,,,
Unsatisfactory,validation-80,Some functions doesn't utilize the whenNotPaused modifier,,,Protocol design,,,,"""""",,,,,,,
Unsatisfactory,validation-81,Unauthorised access to buy and sell credit using the BuyCreditLimit library,,,Incorrect perceptions,,,,"""""",,,,,,,
Unsatisfactory,validation-82,Extremely High Gas Consumption on the Multicall library,,,Low QA frequently reported by the bot,,,,"""""",,,,,,,
Unsatisfactory,validation-84,"Ether passed to  withdraw() function will be lost for the caller, can be stolen by other depositor",,,Low QA on user mistake,,,,"""""",,,,,,,
Unsatisfactory,validation-86,Storage Could Be Corrupted During an Upgrade,,QA,Bot: [Low-7]	Upgradable contracts should have a __gap variable,,,,"""""",,,,,,,
Unsatisfactory,validation-88,"Invalid CR validation in `Size::withdraw`, blocking liquidatable users from withdrawing their borrow tokens",,too strict CR affect withdraw,Intended design on consolidated account,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,https://github.com/code-423n4/2024-06-size/blob/main/src/Size.sol#L162,,,,,,,
Unsatisfactory,validation-89,Misconfigured Modifier Allows Unauthorised Access to updateConfig Function within the Size contract,,,Compromised admin should be addressed in QA,,,,"""""",,,,,,,
Unsatisfactory,validation-90,"using Contract's native token balance does not provide any guard in Multicall, hence will revert",,,Inadequate proof alleging the flaw as well as the need for such crafted batch,,,,"""""",,,,,,,
Unsatisfactory,validation-91,unhandled return value for transferFrom() call during self liquidation,,,Bot: [Low-20] Unsafe use of transfer()/transferFrom() with IERC20,,,,"""""",,,,,,,
Unsatisfactory,validation-92,Whales can DoS the usage of the protocol,,,Intended design. Known Solidified issue 7,,,,"""""",,,,,,,
Unsatisfactory,validation-94,Numerous different ways for users to create offers that are impossible to take,,feature improvement,Low QA on orderbook spamming. Infeasible in this context,,,,"""""",,,,,,,
Unsatisfactory,validation-97,Potential Reentrancy Vulnerability in Deposit and Withdraw Functions,,,CEI well in place in DepositTokenLibrary.sol,,,,"""""",,,,,,,